{"version":3,"sources":["components/IngredientDetails/IngredientDetails.module.css","components/BurgerConstructor/BurgerConstructor.module.css","utils/utils.js","utils/api.js","utils/constants.js","systems/actions/index.js","systems/reducers/orderReducer.js","systems/reducers/currentIngredientReducer.js","systems/reducers/constructorReducer.js","systems/reducers/ingredientsReducer.js","systems/reducers/index.js","components/HeaderButton/HeaderButton.js","components/AppHeader/AppHeader.js","components/Preloader/Preloader.js","images/preloader/loading.png","components/Tabs/Tabs.js","utils/data.js","components/IngredientCard/IngredientCard.js","components/IngredientsList/IngredientsList.js","components/BurgerIngredients/BurgerIngredients.js","components/FilingConstructor/FilingConstructor.js","components/BurgerConstructor/BurgerConstructor.js","components/ModalOverlay/ModalOverlay.js","components/Modal/Modal.js","components/IngredientDetails/IngredientDetails.js","images/done.png","components/OrderDetails/OrderDetails.js","components/App/App.js","reportWebVitals.ts","index.tsx","components/AppHeader/AppHeader.module.css","components/BurgerIngredients/BurgerIngredients.module.css","components/IngredientsList/IngredientsList.module.css","components/IngredientCard/IngredientCard.module.css","components/OrderDetails/OrderDetails.module.css","components/App/App.module.css","components/Preloader/Preloader.module.css","components/Modal/Modal.module.css","components/ModalOverlay/ModalOverlay.module.css","components/HeaderButton/HeaderButton.module.css","components/Tabs/Tabs.module.css","components/FilingConstructor/FilingConstructor.module.css"],"names":["module","exports","uuid","s4","Math","floor","random","toString","substring","getResponse","res","ok","json","Promise","reject","status","getStringOrder","num","str","String","i","length","api","this","_base_url","fetch","method","headers","then","data","console","log","body","JSON","stringify","GET_INGREDIENTS_SUCCESS","GET_INGREDIENTS_REQUEST","GET_INGREDIENTS_FAILED","INGREDIENT_COUNT_INCREMENT","INGREDIENT_COUNT_DECREMENT","INGREDIENT_COUNT_CLEAR","INGREDIENT_COUNTS_CLEAR","ADD_INGREDIENT_TO_CONSTRUCTOR","DELETE_INGREDIENT_FROM_CONSTRUCTOR","CLEAR_CONSTRUCTOR","DELETE_BUN_FROM_CONSTRUCTOR","SORT_INGREDIENTS_IN_CONSTRUCTOR","GET_INGREDIENT_INFO","CLEAR_INGREDIENT_INFO","POST_ORDER_SUCCESS","POST_ORDER_REQUEST","POST_ORDER_FAILED","ADD_INGREDIENT_IN_ORDER","DELETE_INGREDIENT_FROM_ORDER","CALCULATE_COAST","CLEAR_ORDER","POST_ORDER_ERROR","initialState","coast","orderNumber","ingredientsOrder","orderRequest","orderFailed","orderError","items","ingredients","ingredientsRequest","ingredientsFailed","rootReducer","combineReducers","state","action","type","map","item","_id","id","counter","burgerConstructor","filter","order","number","reduce","acc","price","currentIngredient","HeaderButton","Component","component","text","active","onSetCurrent","className","styles","button","value","onClick","AppHeader","React","useState","current","setCurrent","handleClick","header","container","menu","header__navigation","menu__item","BurgerIcon","ListIcon","ProfileIcon","Preloader","preloader","preloader__circle","src","alt","Tabs","currentTab","tabs","PropTypes","shape","string","isRequired","name","proteins","fat","carbohydrates","calories","image","image_mobile","image_large","IngredientCard","card","dispatch","useDispatch","useDrag","collect","monitor","opacity","isDragging","ref","style","count","size","card__image","IngredientsList","title","cards","ingredients__title","ingredients__list","ingredients__item","BurgerIngredients","useSelector","store","setCurrentTab","containerRef","useRef","bunsRef","saucesRef","mainsRef","buns","sauces","fillings","handleScroll","containerPosition","getBoundingClientRect","top","bunsHeaderPosition","sauceHeaderPosition","mainsHeaderPosition","bunsDiff","abs","sauceDiff","mainsDiff","useEffect","containerScroll","document","querySelector","addEventListener","removeEventListener","content","useMemo","ingredients__groups","ingredients__group","FilingConstructor","index","moveCard","useDrop","accept","handlerId","getHandlerId","hover","dragIndex","hoverIndex","hoverBoundingRect","hoverMiddleY","bottom","hoverClientY","getClientOffset","y","drop","drag","filling","thumbnail","handleClose","handleDelete","BurgerConstructor","ingredientsConstructor","error","createId","find","some","isHover","isOver","refTarget","borderColor","useCallback","dragCard","newData","update","$splice","ingredient","isLocked","constructor__error","constructor__wrapper","forEach","push","createOrder","catch","postOrder","ModalOverlay","isOpened","onClose","children","modal","modal_show","onMouseDown","event","target","currentTarget","modalRoot","getElementById","Modal","modalOrder","handleEscapeClose","key","ReactDOM","createPortal","close","IngredientDetails","container__image","container__attributes","container__attribute","OrderDetails","container__content","container__icon","check","App","setModalOrder","modalIngredientsDetailsIsOpened","setModalIngredientsDetailsIsOpened","modalOrderDetailsIsOpened","setModalOrderDetailsIsOpened","handleCloseModal","getIngredients","app","DndProvider","backend","HTML5Backend","main","main__container","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","createStore","render","StrictMode"],"mappings":"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","file":"static/js/main.fce09452.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"IngredientDetails_content__1sSOI\",\"container__attributes\":\"IngredientDetails_container__attributes__2fYVW\",\"title\":\"IngredientDetails_title__28rCS\",\"value\":\"IngredientDetails_value__1mPnt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredients\":\"BurgerConstructor_ingredients__3FISq\",\"fillings\":\"BurgerConstructor_fillings__WRTER\",\"filling\":\"BurgerConstructor_filling__2Ig8o\",\"constructor__wrapper\":\"BurgerConstructor_constructor__wrapper__3n8ue\"};","export function uuid() {\r\n  function s4() {\r\n    return Math.floor((1 + Math.random()) * 0x10000)\r\n      .toString(16)\r\n      .substring(1);\r\n  }\r\n  return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\r\n    s4() + '-' + s4() + s4() + s4();\r\n}\r\n\r\nexport const getResponse = (res) => {\r\n  return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\r\n}\r\n\r\nexport function getStringOrder(num) {\r\n  let str = String(num);\r\n  for (let i = 1; str.length < 6; i++) {\r\n    str = \"0\" + str;\r\n  }\r\n  return str;\r\n}","import { BASE_URL } from './constants';\r\nimport { getResponse } from './utils';\r\n\r\nclass Api {\r\n  constructor() {\r\n    this._base_url = BASE_URL;\r\n  }\r\n\r\n  getIngredients() {\r\n    return fetch(`${this._base_url}/ingredients/`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-type': 'application/json'\r\n      },\r\n    })\r\n    .then(getResponse);\r\n  }\r\n\r\n  createOrder(data) {\r\n    console.log(data);\r\n    return fetch(`${this._base_url}/orders/`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        \"ingredients\": data\r\n      })\r\n    })\r\n    .then(getResponse)\r\n  }\r\n}\r\n\r\nconst api = new Api();\r\n\r\nexport default api;","export const BASE_URL = 'https://norma.nomoreparties.space/api';","import api from '../../utils/api';\r\n\r\n// Ingredients actions\r\nexport const GET_INGREDIENTS_SUCCESS = 'GET_INGREDIENTS_SUCCESS';\r\nexport const GET_INGREDIENTS_REQUEST = 'GET_INGREDIENTS_REQUEST';\r\nexport const GET_INGREDIENTS_FAILED = 'GET_INGREDIENTS_FAILED';\r\nexport const INGREDIENT_COUNT_INCREMENT = 'INGREDIENT_COUNT_INCREMENT';\r\nexport const INGREDIENT_COUNT_DECREMENT = 'INGREDIENT_COUNT_DECREMENT';\r\nexport const INGREDIENT_COUNT_CLEAR = 'INGREDIENT_COUNT_CLEAR';\r\nexport const INGREDIENT_COUNTS_CLEAR = 'INGREDIENT_COUNTS_CLEAR';\r\n\r\n// Constructor actions\r\nexport const ADD_INGREDIENT_TO_CONSTRUCTOR = 'ADD_INGREDIENT_TO_CONSTRUCTOR';\r\nexport const DELETE_INGREDIENT_FROM_CONSTRUCTOR = 'DELETE_INGREDIENT_FROM_CONSTRUCTOR';\r\nexport const CLEAR_CONSTRUCTOR = 'CLEAR_CONSTRUCTOR';\r\nexport const DELETE_BUN_FROM_CONSTRUCTOR = 'DELETE_BUN_FROM_CONSTRUCTOR';\r\nexport const SORT_INGREDIENTS_IN_CONSTRUCTOR = 'SORT_INGREDIENTS_IN_CONSTRUCTOR';\r\n\r\n// Ingredients_info actions\r\nexport const GET_INGREDIENT_INFO = 'GET_INGREDIENT_INFO';\r\nexport const CLEAR_INGREDIENT_INFO = 'CLEAR_INGREDIENT_INFO';\r\n\r\n// Order actions\r\nexport const POST_ORDER_SUCCESS = 'POST_ORDER_SUCCESS';\r\nexport const POST_ORDER_REQUEST = 'POST_ORDER_REQUEST';\r\nexport const POST_ORDER_FAILED = 'POST_ORDER_FAILED';\r\nexport const ADD_INGREDIENT_IN_ORDER = 'ADD_INGREDIENT_IN_ORDER';\r\nexport const DELETE_INGREDIENT_FROM_ORDER = 'DELETE_INGREDIENT_FROM_ORDER';\r\nexport const CALCULATE_COAST = 'CALCULATE_COAST';\r\nexport const CLEAR_ORDER = 'CLEAR_ORDER';\r\nexport const POST_ORDER_ERROR = 'POST_ORDER_ERROR';\r\n\r\nexport function getIngredients() {\r\n  return function(dispatch) {\r\n    dispatch({\r\n      type: GET_INGREDIENTS_REQUEST\r\n    });\r\n    api.getIngredients()\r\n    .then((res) => {\r\n      const newData = [];\r\n      res.data.map(item => (\r\n        newData.push({...item, counter: 0})\r\n        ))\r\n      dispatch({\r\n        type: GET_INGREDIENTS_SUCCESS,\r\n        data: newData\r\n      })\r\n    })\r\n    .catch(() => {\r\n      dispatch({\r\n        type: GET_INGREDIENTS_FAILED\r\n      })\r\n    });\r\n  }\r\n}\r\n\r\nexport function postOrder(data) {\r\n  return function(dispatch) {\r\n    dispatch({\r\n      type: POST_ORDER_REQUEST\r\n    });\r\n    if (data.length) {\r\n      api.createOrder(data)\r\n      .then((res) => {\r\n        dispatch({\r\n          type: POST_ORDER_SUCCESS,\r\n          number: res.order.number\r\n        })\r\n        dispatch({type: INGREDIENT_COUNTS_CLEAR})\r\n    })\r\n      .catch(() => {\r\n        dispatch({\r\n          type: POST_ORDER_FAILED\r\n        })\r\n      })\r\n    }\r\n  }\r\n    \r\n}","import {\r\n  ADD_INGREDIENT_IN_ORDER,\r\n  DELETE_INGREDIENT_FROM_ORDER,\r\n  CALCULATE_COAST,\r\n  CLEAR_ORDER,\r\n  POST_ORDER_SUCCESS,\r\n  POST_ORDER_FAILED,\r\n  POST_ORDER_REQUEST,\r\n  POST_ORDER_ERROR\r\n} from '../actions/index';\r\n\r\nexport const initialState = {\r\n  coast: 0,\r\n  orderNumber: 0,\r\n  ingredientsOrder: [],\r\n  orderRequest: false,\r\n  orderFailed: false,\r\n  orderError: false\r\n}\r\n\r\nexport const orderReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_INGREDIENT_IN_ORDER:\r\n      return {...state, \r\n        ingredientsOrder: [...state.ingredientsOrder, action.id] }\r\n    case DELETE_INGREDIENT_FROM_ORDER:\r\n      return {...state, \r\n        ingredientsOrder: state.ingredientsOrder.filter(item => item.id !== action.id)\r\n      }\r\n    case POST_ORDER_REQUEST:\r\n      return {\r\n        ...state,\r\n        orderRequest: true\r\n      }\r\n      case POST_ORDER_SUCCESS:\r\n        return {\r\n          ...state,\r\n          orderFailed: false,\r\n          orderRequest: false,\r\n          ingredientsOrder: [],\r\n          orderError: false,\r\n          orderNumber: action.number\r\n        }\r\n      case POST_ORDER_FAILED:\r\n        return {\r\n          ...state,\r\n          orderFailed: true,\r\n          orderRequest: false\r\n        }\r\n    case CLEAR_ORDER:\r\n      return initialState;\r\n    case CALCULATE_COAST:\r\n      return {...state, coast: action.items.reduce((acc, item) => item.type === 'bun' ? acc += item.price * 2 : acc += item.price, 0)}\r\n    case POST_ORDER_ERROR:\r\n      return {\r\n        ...state,\r\n        orderError: true\r\n        }\r\n    default:\r\n      return state;\r\n  }\r\n}","import {\r\n  GET_INGREDIENT_INFO,\r\n  CLEAR_INGREDIENT_INFO\r\n} from '../actions/index';\r\n\r\nexport const initialState = {};\r\n\r\nexport const currentIngredientReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GET_INGREDIENT_INFO:\r\n      return action.item;\r\n    case CLEAR_INGREDIENT_INFO:\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n\r\n}","import {\r\n  ADD_INGREDIENT_TO_CONSTRUCTOR,\r\n  DELETE_INGREDIENT_FROM_CONSTRUCTOR,\r\n  DELETE_BUN_FROM_CONSTRUCTOR,\r\n  SORT_INGREDIENTS_IN_CONSTRUCTOR,\r\n  CLEAR_CONSTRUCTOR\r\n} from '../actions/index';\r\n\r\nexport const initialState = {\r\n  items: []\r\n};\r\n\r\nexport const constructorListReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_INGREDIENT_TO_CONSTRUCTOR:\r\n      return {...state, items: [...state.items, action.item]}\r\n    case DELETE_INGREDIENT_FROM_CONSTRUCTOR:\r\n      return {...state, items: state.items.filter( item => item.uuid !== action.uuid)}\r\n    case DELETE_BUN_FROM_CONSTRUCTOR:\r\n      return {...state, items: state.items.filter( item => item.type !== 'bun')}\r\n    case SORT_INGREDIENTS_IN_CONSTRUCTOR:\r\n      return {...state, items: action.data}\r\n    case CLEAR_CONSTRUCTOR:\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n}","import {\r\n  GET_INGREDIENTS_SUCCESS,\r\n  GET_INGREDIENTS_REQUEST,\r\n  GET_INGREDIENTS_FAILED,\r\n  INGREDIENT_COUNT_INCREMENT,\r\n  INGREDIENT_COUNT_DECREMENT,\r\n  INGREDIENT_COUNTS_CLEAR,\r\n  INGREDIENT_COUNT_CLEAR\r\n} from '../actions/index';\r\n\r\nconst initialState = {\r\n  ingredients: [],\r\n  ingredientsRequest: false,\r\n  ingredientsFailed: false\r\n};\r\n\r\nexport const ingredientsListReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GET_INGREDIENTS_REQUEST:\r\n      return {\r\n        ...state,\r\n        ingredientsRequest: true\r\n      }\r\n    case GET_INGREDIENTS_SUCCESS:\r\n      return  {\r\n        ...state,\r\n        ingredientsRequest: false,\r\n        ingredientsFailed: false,\r\n        ingredients: action.data\r\n      }\r\n      case GET_INGREDIENTS_FAILED:\r\n      return  {\r\n        ...state,\r\n        ingredientsRequest: false,\r\n        ingredientsFailed: true,\r\n      }\r\n    case INGREDIENT_COUNT_INCREMENT:\r\n      return {\r\n        ...state,\r\n        ingredients: state.ingredients.map(item => item._id === action.id ? {...item, counter: item.counter + action.counter} : item)\r\n      }\r\n    case INGREDIENT_COUNT_DECREMENT:\r\n      return {\r\n        ...state,\r\n        ingredients: state.ingredients.map(item => item._id === action.id ? {...item, counter: item.counter - action.counter} : item)\r\n      }\r\n      case INGREDIENT_COUNT_CLEAR:\r\n        return {\r\n          ...state,\r\n          ingredients: state.ingredients.map(item => item.type === 'bun' ? {...item, counter: 0} : item)\r\n        }\r\n      case INGREDIENT_COUNTS_CLEAR:\r\n        return {\r\n          ...state,\r\n          ingredients: state.ingredients.map(item => { return {...item, counter: 0}})\r\n        }\r\n    default:\r\n      return state;\r\n  }\r\n}","import { combineReducers } from 'redux';\r\nimport { orderReducer } from '../reducers/orderReducer';\r\nimport { currentIngredientReducer } from '../reducers/currentIngredientReducer';\r\nimport { constructorListReducer } from '../reducers/constructorReducer';\r\nimport { ingredientsListReducer } from '../reducers/ingredientsReducer';\r\n\r\nexport const rootReducer = combineReducers({\r\n  ingredients: ingredientsListReducer,\r\n  burgerConstructor: constructorListReducer,\r\n  order: orderReducer,\r\n  currentIngredient: currentIngredientReducer\r\n});","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './HeaderButton.module.css';\r\n\r\nfunction HeaderButton({component: Component, text, active, onSetCurrent}) {\r\n  return (\r\n    <a className={`${styles.button} pt-4 pb-4 pr-5 pl-5`} value={text} onClick={() => onSetCurrent(text)}>\r\n      <Component type={`${active === text ? \"primary\" : \"secondary\"}`} />\r\n      <p className={`text text_type_main-default ml-2 ${active === text ? \"\" : \"text_color_inactive\"}`}>\r\n        {text}\r\n      </p>\r\n    </a>\r\n  )\r\n}\r\n\r\nHeaderButton.propTypes = {\r\n  component: PropTypes.func.isRequired,\r\n  text: PropTypes.string.isRequired,\r\n  active: PropTypes.string.isRequired,\r\n  onSetCurrent: PropTypes.func.isRequired\r\n}\r\n\r\nexport default HeaderButton;","import React from 'react';\r\nimport { BurgerIcon, ListIcon, Logo, ProfileIcon } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport HeaderButton from '../HeaderButton/HeaderButton';\r\nimport styles from './AppHeader.module.css';\r\n\r\nfunction AppHeader() {\r\n  const [current, setCurrent] = React.useState('Конструктор')\r\n\r\n  function handleClick(str) {\r\n    setCurrent(str);\r\n  }\r\n\r\n  return (\r\n    <header className={`${styles.header} pt-4 pb-4`}>\r\n      <div className={`${styles.container}`}>\r\n        <ul className={`${styles.menu} ${styles.header__navigation}`}>\r\n          <li className={`${styles.menu__item} mr-2`}>\r\n            <HeaderButton \r\n              onSetCurrent={handleClick}\r\n              component={BurgerIcon}\r\n              text='Конструктор'\r\n              active={current} \r\n            />\r\n          </li>\r\n          <li className=\"menu__item\">\r\n            <HeaderButton \r\n              onSetCurrent={handleClick}\r\n              component={ListIcon}\r\n              active={current}\r\n              text='Лента заказов' \r\n            />\r\n          </li>\r\n        </ul>\r\n        <Logo />\r\n        <HeaderButton\r\n          onSetCurrent={handleClick}\r\n          active={current}\r\n          component={ProfileIcon}\r\n          text='Личный кабинет'\r\n        />\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default AppHeader;","import React from 'react';\nimport styles from './Preloader.module.css';\nimport preloaderImg from '../../images/preloader/loading.png';\n\nfunction Preloader() {\n  return (\n    <section className={`${styles.preloader}`}>\n      <img className={`${styles.preloader__circle}`} src={preloaderImg} alt=\"Preloader\" />\n    </section>\n  );\n}\n\nexport default Preloader;\n","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Tab } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport styles from './Tabs.module.css';\r\n\r\nconst Tabs = ({currentTab, onClick}) => {  \r\n\r\n  return (\r\n    <div className={`${styles.tabs}`}>\r\n      <Tab value='buns' active={currentTab === 'buns'} onClick={(value) => onClick(value)}>\r\n        Булки\r\n      </Tab>\r\n      <Tab value='sauces' active={currentTab === 'sauces'} onClick={(value) => onClick(value)}>\r\n        Соусы\r\n      </Tab>\r\n      <Tab value='mains' active={currentTab === 'mains'} onClick={(value) => onClick(value)}>\r\n        Начинки\r\n      </Tab>\r\n    </div>\r\n  );\r\n}\r\n\r\nTabs.propTypes = {\r\n  currentTab: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired\r\n}\r\n\r\nexport default Tabs;\r\n","import PropTypes from 'prop-types';\r\n\r\nexport const data = [\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9b1\",\r\n    \"name\":\"Краторная булка N-200i\",\r\n    \"type\":\"bun\",\r\n    \"proteins\":80,\r\n    \"fat\":24,\r\n    \"carbohydrates\":53,\r\n    \"calories\":420,\r\n    \"price\":1255,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/bun-02.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/bun-02-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/bun-02-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9b5\",\r\n    \"name\":\"Говяжий метеорит (отбивная)\",\r\n    \"type\":\"main\",\r\n    \"proteins\":800,\r\n    \"fat\":800,\r\n    \"carbohydrates\":300,\r\n    \"calories\":2674,\r\n    \"price\":3000,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/meat-04.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/meat-04-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/meat-04-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9b6\",\r\n    \"name\":\"Биокотлета из марсианской Магнолии\",\r\n    \"type\":\"main\",\r\n    \"proteins\":420,\r\n    \"fat\":142,\r\n    \"carbohydrates\":242,\r\n    \"calories\":4242,\r\n    \"price\":424,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/meat-01.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/meat-01-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/meat-01-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9b7\",\r\n    \"name\":\"Соус Spicy-X\",\r\n    \"type\":\"sauce\",\r\n    \"proteins\":30,\r\n    \"fat\":20,\r\n    \"carbohydrates\":40,\r\n    \"calories\":30,\r\n    \"price\":90,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/sauce-02.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/sauce-02-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/sauce-02-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9b4\",\r\n    \"name\":\"Мясо бессмертных моллюсков Protostomia\",\r\n    \"type\":\"main\",\r\n    \"proteins\":433,\r\n    \"fat\":244,\r\n    \"carbohydrates\":33,\r\n    \"calories\":420,\r\n    \"price\":1337,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/meat-02.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/meat-02-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/meat-02-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9b9\",\r\n    \"name\":\"Соус традиционный галактический\",\r\n    \"type\":\"sauce\",\r\n    \"proteins\":42,\r\n    \"fat\":24,\r\n    \"carbohydrates\":42,\r\n    \"calories\":99,\r\n    \"price\":15,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/sauce-03.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/sauce-03-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/sauce-03-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9b8\",\r\n    \"name\":\"Соус фирменный Space Sauce\",\r\n    \"type\":\"sauce\",\r\n    \"proteins\":50,\r\n    \"fat\":22,\r\n    \"carbohydrates\":11,\r\n    \"calories\":14,\r\n    \"price\":80,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/sauce-04.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/sauce-04-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/sauce-04-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9bc\",\r\n    \"name\":\"Плоды Фалленианского дерева\",\r\n    \"type\":\"main\",\r\n    \"proteins\":20,\r\n    \"fat\":5,\r\n    \"carbohydrates\":55,\r\n    \"calories\":77,\r\n    \"price\":874,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/sp_1.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/sp_1-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/sp_1-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9bb\",\r\n    \"name\":\"Хрустящие минеральные кольца\",\r\n    \"type\":\"main\",\r\n    \"proteins\":808,\r\n    \"fat\":689,\r\n    \"carbohydrates\":609,\r\n    \"calories\":986,\r\n    \"price\":300,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/mineral_rings.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/mineral_rings-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/mineral_rings-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9ba\",\r\n    \"name\":\"Соус с шипами Антарианского плоскоходца\",\r\n    \"type\":\"sauce\",\r\n    \"proteins\":101,\r\n    \"fat\":99,\r\n    \"carbohydrates\":100,\r\n    \"calories\":100,\r\n    \"price\":88,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/sauce-01.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/sauce-01-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/sauce-01-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9bd\",\r\n    \"name\":\"Кристаллы марсианских альфа-сахаридов\",\r\n    \"type\":\"main\",\r\n    \"proteins\":234,\r\n    \"fat\":432,\r\n    \"carbohydrates\":111,\r\n    \"calories\":189,\r\n    \"price\":762,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/core.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/core-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/core-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9be\",\r\n    \"name\":\"Мини-салат Экзо-Плантаго\",\r\n    \"type\":\"main\",\r\n    \"proteins\":1,\r\n    \"fat\":2,\r\n    \"carbohydrates\":3,\r\n    \"calories\":6,\r\n    \"price\":4400,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/salad.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/salad-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/salad-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9b3\",\r\n    \"name\":\"Филе Люминесцентного тетраодонтимформа\",\r\n    \"type\":\"main\",\r\n    \"proteins\":44,\r\n    \"fat\":26,\r\n    \"carbohydrates\":85,\r\n    \"calories\":643,\r\n    \"price\":988,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/meat-03.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/meat-03-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/meat-03-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9bf\",\r\n    \"name\":\"Сыр с астероидной плесенью\",\r\n    \"type\":\"main\",\r\n    \"proteins\":84,\r\n    \"fat\":48,\r\n    \"carbohydrates\":420,\r\n    \"calories\":3377,\r\n    \"price\":4142,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/cheese.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/cheese-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/cheese-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9b2\",\r\n    \"name\":\"Флюоресцентная булка R2-D3\",\r\n    \"type\":\"bun\",\r\n    \"proteins\":44,\r\n    \"fat\":26,\r\n    \"carbohydrates\":85,\r\n    \"calories\":643,\r\n    \"price\":988,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/bun-01.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/bun-01-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/bun-01-large.png\",\r\n    \"__v\":0\r\n  }\r\n]\r\n\r\nexport const dataIngredients = [\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9b1\",\r\n    \"name\":\"Краторная булка N-200i\",\r\n    \"type\":\"bun\",\r\n    \"proteins\":80,\r\n    \"fat\":24,\r\n    \"carbohydrates\":53,\r\n    \"calories\":420,\r\n    \"price\":1255,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/bun-02.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/bun-02-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/bun-02-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9ba\",\r\n    \"name\":\"Соус с шипами Антарианского плоскоходца\",\r\n    \"type\":\"sauce\",\r\n    \"proteins\":101,\r\n    \"fat\":99,\r\n    \"carbohydrates\":100,\r\n    \"calories\":100,\r\n    \"price\":88,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/sauce-01.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/sauce-01-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/sauce-01-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9b6\",\r\n    \"name\":\"Биокотлета из марсианской Магнолии\",\r\n    \"type\":\"main\",\r\n    \"proteins\":420,\r\n    \"fat\":142,\r\n    \"carbohydrates\":242,\r\n    \"calories\":4242,\r\n    \"price\":424,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/meat-01.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/meat-01-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/meat-01-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9bf\",\r\n    \"name\":\"Сыр с астероидной плесенью\",\r\n    \"type\":\"main\",\r\n    \"proteins\":84,\r\n    \"fat\":48,\r\n    \"carbohydrates\":420,\r\n    \"calories\":3377,\r\n    \"price\":4142,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/cheese.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/cheese-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/cheese-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9bb\",\r\n    \"name\":\"Хрустящие минеральные кольца\",\r\n    \"type\":\"main\",\r\n    \"proteins\":808,\r\n    \"fat\":689,\r\n    \"carbohydrates\":609,\r\n    \"calories\":986,\r\n    \"price\":300,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/mineral_rings.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/mineral_rings-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/mineral_rings-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9bb\",\r\n    \"name\":\"Хрустящие минеральные кольца\",\r\n    \"type\":\"main\",\r\n    \"proteins\":808,\r\n    \"fat\":689,\r\n    \"carbohydrates\":609,\r\n    \"calories\":986,\r\n    \"price\":300,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/mineral_rings.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/mineral_rings-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/mineral_rings-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9b1\",\r\n    \"name\":\"Краторная булка N-200i\",\r\n    \"type\":\"bun\",\r\n    \"proteins\":80,\r\n    \"fat\":24,\r\n    \"carbohydrates\":53,\r\n    \"calories\":420,\r\n    \"price\":1255,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/bun-02.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/bun-02-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/bun-02-large.png\",\r\n    \"__v\":0\r\n  },\r\n]\r\n\r\nexport const card = PropTypes.shape({\r\n  _id: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  type: PropTypes.string.isRequired,\r\n  proteins: PropTypes.number.isRequired,\r\n  fat: PropTypes.number.isRequired,\r\n  carbohydrates: PropTypes.number.isRequired,\r\n  calories: PropTypes.number.isRequired,\r\n  price: PropTypes.number.isRequired,\r\n  image: PropTypes.string.isRequired,\r\n  image_mobile: PropTypes.string.isRequired,\r\n  image_large: PropTypes.string.isRequired\r\n});\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useDrag } from \"react-dnd\";\r\nimport { Counter, CurrencyIcon  } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport { card } from '../../utils/data';\r\nimport { GET_INGREDIENT_INFO } from '../../systems/actions/index'\r\nimport styles from './IngredientCard.module.css';\r\n\r\nconst IngredientCard = ({card, onClick}) => {\r\n  const { _id } = card;\r\n  const dispatch = useDispatch();\r\n\r\n  const handleClick = () => {\r\n    console.log(_id)\r\n    dispatch({\r\n      type: GET_INGREDIENT_INFO,\r\n      item: card\r\n    })\r\n    onClick();\r\n  }\r\n\r\n  const [{ opacity }, ref] = useDrag({\r\n    type: 'items',\r\n    item: { _id },\r\n    collect: monitor => ({\r\n      opacity: monitor.isDragging() ? 0.5 : 1\r\n    })\r\n  });\r\n\r\n  return (\r\n    <article\r\n    className={`${styles.card}`}\r\n    onClick={handleClick}\r\n    ref={ref}\r\n    style={{ opacity }}\r\n    >\r\n      {card.counter > 0 && <Counter count={card.counter} size=\"default\" />}\r\n      <img src={card.image} className={`${styles.card__image}`} alt={card.name} />\r\n      <div className={`${styles[\"card__price-wrapper\"]} mt-1 mb-1`}>\r\n        <p className=\"text text_type_digits-default mr-1\">{card.price}</p>\r\n        <CurrencyIcon type=\"primary\"/>\r\n      </div>\r\n      <h3 className=\"text text_type_main-default\">{card.name}</h3>\r\n    </article>\r\n  )\r\n}\r\n\r\nIngredientCard.propTypes = {\r\n  card: card.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default IngredientCard;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './IngredientsList.module.css';\r\nimport IngredientCard from '../IngredientCard/IngredientCard'\r\nimport { card } from '../../utils/data';\r\n\r\nconst IngredientsList = ({title, cards, onClick}) => {\r\n  return (\r\n    <section className={`${styles.ingredients}`}>\r\n      <h2 className={`${styles.ingredients__title} text text_type_main-medium mt-10 mb-6`}>{title}</h2>\r\n      <ul className={`${styles.ingredients__list} ml-4 pr-4`}>\r\n      {cards.map((card) => (\r\n        <li className={`${styles.ingredients__item}`} key={card._id}>\r\n          <IngredientCard\r\n            card={card}\r\n            onClick={onClick}\r\n          />\r\n        </li>\r\n      ))}\r\n      </ul>\r\n    </section>\r\n    \r\n  )\r\n}\r\n\r\nIngredientsList.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  cards: PropTypes.arrayOf(card).isRequired,\r\n  onClick: PropTypes.func.isRequired\r\n}\r\n\r\nexport default IngredientsList;","import React, { useMemo, useRef, useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useSelector } from 'react-redux';\r\nimport styles from \"./BurgerIngredients.module.css\";\r\nimport Preloader from '../Preloader/Preloader';\r\nimport Tabs from '../Tabs/Tabs';\r\n\r\nimport IngredientsList from '../IngredientsList/IngredientsList';\r\n\r\nfunction BurgerIngredients({ onClick }) {\r\n  const { ingredients, ingredientsRequest } = useSelector(store => ({\r\n    ingredients: store.ingredients.ingredients,\r\n    ingredientsRequest: store.ingredients.ingredientsRequest,\r\n    ingredientsFailed: store.ingredients.ingredientsFailed\r\n  }));\r\n\r\nconst [currentTab, setCurrentTab] = useState('buns');\r\n\r\nfunction handleClick(str) {\r\n  setCurrentTab(str);\r\n}\r\n\r\n  const containerRef = useRef();\r\n  const bunsRef = useRef();\r\n  const saucesRef = useRef();\r\n  const mainsRef = useRef();\r\n\r\n  const buns = ingredients.filter(item => item.type === \"bun\");\r\n  const sauces = ingredients.filter(item => item.type === \"sauce\");\r\n  const fillings = ingredients.filter(item => item.type === \"main\");\r\n\r\n  const handleScroll = () => {     \r\n    const containerPosition = containerRef.current.getBoundingClientRect().top;     \r\n    const bunsHeaderPosition = bunsRef.current.getBoundingClientRect().top;     \r\n    const sauceHeaderPosition = saucesRef.current.getBoundingClientRect().top;     \r\n    const mainsHeaderPosition = mainsRef.current.getBoundingClientRect().top;     \r\n    const bunsDiff = Math.abs(containerPosition - bunsHeaderPosition);     \r\n    const sauceDiff = Math.abs(containerPosition - sauceHeaderPosition);     \r\n    const mainsDiff = Math.abs(containerPosition - mainsHeaderPosition);      \r\n    switch (true) {       \r\n      case (bunsDiff < sauceDiff) && (bunsDiff < mainsDiff): {         \r\n        setCurrentTab('buns'); break;       }       \r\n      case (sauceDiff < bunsDiff) && (sauceDiff < mainsDiff): {         \r\n        setCurrentTab('sauces'); break;       }       \r\n      default: {         \r\n        setCurrentTab('mains');       }     \r\n    }   \r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    if (!ingredientsRequest) {\r\n      const containerScroll = document.querySelector(`.scroll-container`);\r\n    \r\n    containerScroll.addEventListener('scroll', handleScroll);\r\n    return () => {\r\n      containerScroll.removeEventListener('scroll', handleScroll);\r\n    }\r\n    }\r\n    \r\n  }, [ingredientsRequest])\r\n\r\n  const content = useMemo(() => {\r\n    return ingredientsRequest ? (\r\n      <Preloader />\r\n    ) : (\r\n      <ul className={`${styles.ingredients__groups} scroll-container`} ref={containerRef}>\r\n        <li className={`${styles.ingredients__group}`} ref={bunsRef}>\r\n          <IngredientsList\r\n            title=\"Булки\"\r\n            cards={buns}\r\n            onClick={onClick}\r\n            />\r\n        </li>\r\n        <li className={`${styles.ingredients__group}`} ref={saucesRef}>\r\n          <IngredientsList\r\n            title=\"Соусы\"\r\n            cards={sauces}\r\n            onClick={onClick}\r\n          />\r\n        </li>\r\n        <li className={`${styles.ingredients__group}`} ref={mainsRef}>\r\n          <IngredientsList\r\n            title=\"Начинки\"\r\n            cards={fillings}\r\n            onClick={onClick}\r\n          />\r\n        </li>\r\n      </ul>\r\n      )\r\n  }, [buns, fillings, ingredientsRequest, onClick, sauces]\r\n);\r\n\r\n  return (\r\n    <section className={`${styles.ingredients} mr-10`}>\r\n      <Tabs  currentTab={currentTab} onClick={handleClick}/>\r\n      {content}\r\n    </section>\r\n  )\r\n}\r\n\r\nBurgerIngredients.propTypes = {\r\n  onClick: PropTypes.func.isRequired\r\n}\r\n\r\nexport default BurgerIngredients;\r\n","import React, { useRef } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { useDrop, useDrag } from \"react-dnd\";\r\nimport { ConstructorElement, DragIcon } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport { DELETE_INGREDIENT_FROM_CONSTRUCTOR,\r\n  DELETE_INGREDIENT_FROM_ORDER,\r\n  INGREDIENT_COUNT_DECREMENT\r\n  } from '../../systems/actions/index';\r\nimport { card } from '../../utils/data';\r\nimport styles from './FilingConstructor.module.css';\r\n\r\nconst  FilingConstructor = ({id, index, moveCard, item}) => {\r\n  const dispatch = useDispatch();\r\n  const ref = useRef(null);\r\n    const [{ handlerId }, drop] = useDrop({\r\n        accept: 'card',\r\n        collect(monitor) {\r\n            return {\r\n                handlerId: monitor.getHandlerId(),\r\n            };\r\n        },\r\n        hover(item, monitor) {\r\n            if (!ref.current) {\r\n                return;\r\n            }\r\n            console.log(item)\r\n            const dragIndex = item.index;\r\n            const hoverIndex = index;\r\n            if (dragIndex === hoverIndex) {\r\n                return;\r\n            }\r\n            const hoverBoundingRect = ref.current?.getBoundingClientRect();\r\n            const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\r\n            const clientOffset = monitor.getClientOffset();\r\n            const hoverClientY = clientOffset.y - hoverBoundingRect.top;\r\n            if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\r\n              return;\r\n            }\r\n            if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\r\n              return;\r\n            }\r\n            moveCard(dragIndex, hoverIndex);\r\n            item.index = hoverIndex;\r\n        },\r\n    });\r\n    const [{ isDragging }, drag] = useDrag({\r\n        type: 'card',\r\n        item: () => {\r\n            return { id, index };\r\n        },\r\n        collect: (monitor) => ({\r\n            isDragging: monitor.isDragging(),\r\n        }),\r\n    });\r\n    const opacity = isDragging ? 0.3 : 1;\r\n    drag(drop(ref));\r\n\r\n    const handleDelete = (uuid, id) => {\r\n      dispatch({\r\n        type: DELETE_INGREDIENT_FROM_CONSTRUCTOR,\r\n        uuid: uuid\r\n      })\r\n      dispatch({\r\n        type: INGREDIENT_COUNT_DECREMENT,\r\n        id: id,\r\n        counter: 1\r\n      })\r\n      dispatch({type: DELETE_INGREDIENT_FROM_ORDER, id: id})\r\n    }\r\n\r\n  return (\r\n    <li className={`${styles.filling} mb-2`} style={{opacity}} ref={ref} index={index} data-handler-id={handlerId}>\r\n      <DragIcon type=\"primary\" />\r\n      <ConstructorElement\r\n        text={item.name}\r\n        price={item.price}\r\n        thumbnail={item.image_mobile}\r\n        handleClose={() => handleDelete(item.uuid, item._id)}\r\n      />\r\n    </li>\r\n  )\r\n}\r\n\r\nFilingConstructor.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  index: PropTypes.number.isRequired,\r\n  moveCard: PropTypes.func.isRequired,\r\n  item: card\r\n}\r\n\r\nexport default FilingConstructor;","import React, { useEffect, useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport update from 'immutability-helper';\r\nimport { useDrop } from \"react-dnd\";\r\nimport { ConstructorElement, CurrencyIcon, Button} from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport { uuid } from '../../utils/utils';\r\nimport { postOrder } from '../../systems/actions/index';\r\nimport { CLEAR_INGREDIENT_INFO,\r\n  ADD_INGREDIENT_TO_CONSTRUCTOR,\r\n  ADD_INGREDIENT_IN_ORDER,\r\n  DELETE_INGREDIENT_FROM_ORDER,\r\n  INGREDIENT_COUNT_INCREMENT,\r\n  DELETE_BUN_FROM_CONSTRUCTOR,\r\n  INGREDIENT_COUNT_CLEAR,\r\n  POST_ORDER_ERROR,\r\n  SORT_INGREDIENTS_IN_CONSTRUCTOR,\r\n  CALCULATE_COAST } from '../../systems/actions/index';\r\nimport FilingConstructor from '../FilingConstructor/FilingConstructor'\r\nimport styles from './BurgerConstructor.module.css';\r\n\r\nconst BurgerConstructor = ({ onClick }) => {\r\n  const dispatch = useDispatch();\r\n  const { ingredients, ingredientsConstructor, error, coast } = useSelector(store => ({\r\n    ingredients: store.ingredients.ingredients,\r\n    ingredientsConstructor: store.burgerConstructor.items,\r\n    error: store.order.orderError,\r\n    coast: store.order.coast,\r\n  }));\r\n\r\n  const [{isHover}, refTarget] = useDrop({\r\n    accept: 'items',\r\n    drop(card) {\r\n      const item = createId(ingredients.find(item => item._id === card._id));\r\n      if (item.type === 'bun' && ingredientsConstructor.some(item => item.type === 'bun')) {\r\n        dispatch({\r\n          type: DELETE_BUN_FROM_CONSTRUCTOR\r\n        })\r\n        dispatch({type: INGREDIENT_COUNT_CLEAR})\r\n        dispatch({type: DELETE_INGREDIENT_FROM_ORDER, id: item._id})\r\n      }\r\n      dispatch({\r\n        type: ADD_INGREDIENT_TO_CONSTRUCTOR,\r\n        item: item\r\n      })\r\n      dispatch({type: ADD_INGREDIENT_IN_ORDER, id: item._id})\r\n      dispatch({type: INGREDIENT_COUNT_INCREMENT, id: item._id, counter: item.type === 'bun' ? 2 : 1})\r\n    },\r\n    collect: monitor => ({\r\n        isHover: monitor.isOver(),\r\n    })\r\n  });\r\n\r\n  const borderColor = isHover ? 'lightgreen' : 'transparent';\r\n\r\n  function createId(item) {\r\n      return  {...item, uuid: uuid()}\r\n  }\r\n\r\n  const handleClickSendOrder = () => {\r\n    dispatch({\r\n      type: CLEAR_INGREDIENT_INFO\r\n    });\r\n    const data = [];\r\n    ingredientsConstructor.forEach((item) => {data.push(item._id)});\r\n    if (data.length > 0) {\r\n      onClick();\r\n      dispatch(postOrder(data));\r\n    } else {\r\n      dispatch({type: POST_ORDER_ERROR})\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    dispatch({type: CALCULATE_COAST, items: ingredientsConstructor})\r\n  }, [ingredientsConstructor, dispatch])\r\n\r\n  const moveCard = useCallback((dragIndex, hoverIndex) => {\r\n    const dragCard = ingredientsConstructor[dragIndex];\r\n    const newData = update(ingredientsConstructor, {\r\n        $splice: [\r\n            [dragIndex, 1],\r\n            [hoverIndex, 0, dragCard],\r\n        ],\r\n    });\r\n    dispatch({ type: SORT_INGREDIENTS_IN_CONSTRUCTOR, data: newData})\r\n  }, [ingredientsConstructor, dispatch]);\r\n\r\n    return (\r\n    <section className=\"mt-3 mb-13\">\r\n      <ul className={`${styles.ingredients} mb-10 pr-4 pl-4`} ref={refTarget} style={{borderColor}}>\r\n        <li className={`${styles.ingredient} ml-6 mb-2`}>\r\n        {ingredientsConstructor.filter(item => item.type === 'bun').length > 0 && ingredientsConstructor.filter(item => item.type === 'bun').map((item) => (\r\n            <ConstructorElement\r\n              key={item.uuid}\r\n              type=\"top\"\r\n              isLocked={true}\r\n              text={`${item.name} (верх)`}\r\n              price={item.price}\r\n              thumbnail={item.image_mobile}\r\n            />\r\n          ))}\r\n        </li>\r\n        <li className={`${styles.ingredient} mb-2`}>\r\n          <ul className={`${styles.fillings}`}>\r\n            {ingredientsConstructor.filter(item => item.type === 'sauce' || item.type === 'main').length > 0 && ingredientsConstructor.filter(item => item.type === 'sauce' || item.type === 'main').map((item, index)=> (\r\n              <FilingConstructor key={item.uuid} moveCard={moveCard} id={item.uuid} item={item} index={index+1} />\r\n            ))\r\n            }\r\n          </ul>\r\n        </li>\r\n        <li className={`${styles.ingredient} ml-6`}>\r\n        {ingredientsConstructor.filter(item => item.type === 'bun').length > 0 && ingredientsConstructor.filter(item => item.type === 'bun').map((item) => (\r\n            <ConstructorElement\r\n              key={item.uuid}\r\n              type=\"bottom\"\r\n              isLocked={true}\r\n              text={`${item.name} (низ)`}\r\n              price={item.price}\r\n              thumbnail={item.image_mobile}\r\n            />\r\n          ))}\r\n        </li>\r\n      </ul>\r\n      {error && <p className={`${styles.constructor__error} text text_type_main-medium`}>Чтобы сделать заказ, соберите свой бургер!</p>}\r\n      <div className={`${styles.constructor__wrapper} mb-13`}>\r\n        <div className={`${styles.constructor__wrapper} mr-10`}>\r\n          <p className=\"text text_type_digits-medium\">{coast}</p>\r\n          <CurrencyIcon type=\"primary\" />\r\n        </div>\r\n        <Button type=\"primary\" size=\"large\" onClick={handleClickSendOrder}>\r\n          Оформить заказ\r\n        </Button>\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n\r\nBurgerConstructor.propTypes = {\r\n  onClick: PropTypes.func.isRequired\r\n}\r\n\r\nexport default BurgerConstructor;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ModalOverlay.module.css';\r\n\r\nconst ModalOverlay = ({isOpened, onClose, children }) => {\r\n\r\n  \r\n  const handleOverlayClose = (event) => {\r\n    if (event.target === event.currentTarget && isOpened) {\r\n      onClose();\r\n    }\r\n  };\r\n  return (\r\n  <div\r\n    className={`${styles.modal} ${isOpened && styles.modal_show}`}\r\n    onMouseDown={handleOverlayClose}>\r\n    {children}\r\n  </div>\r\n  )\r\n}\r\n\r\nModalOverlay.propTypes = {\r\n  isOpened: PropTypes.bool.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n  children: PropTypes.node.isRequired\r\n}\r\n\r\nexport default ModalOverlay;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Modal.module.css';\r\nimport ModalOverlay from '../ModalOverlay/ModalOverlay';\r\n\r\n\r\nconst modalRoot = document.getElementById('modal-root');\r\n\r\nconst Modal = ({isOpened, children, onClose, modalOrder=false }) => {\r\n\r\n  React.useEffect(() => {\r\n    if (!isOpened) return;\r\n    const handleEscapeClose = (event) => {\r\n      if (event.key === \"Escape\") {\r\n        onClose();\r\n      }\r\n    };\r\n    document.addEventListener(\"keydown\", handleEscapeClose);\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", handleEscapeClose);\r\n    };\r\n  }, [isOpened, onClose]);\r\n\r\n  return ReactDOM.createPortal(\r\n    <ModalOverlay\r\n      isOpened={isOpened}\r\n      onClose={onClose}\r\n    >\r\n      <div className={`${styles['modal-body']}`}>\r\n        <button type=\"button\" onClick={onClose} className={`${styles.close}`} />\r\n        {children}\r\n      </div>\r\n    </ModalOverlay>, modalRoot\r\n  )\r\n}\r\n\r\nModal.propTypes = {\r\n  modalOrder: PropTypes.bool,\r\n  isOpened: PropTypes.bool.isRequired,\r\n  children: PropTypes.node.isRequired,\r\n  onClose: PropTypes.func.isRequired\r\n\r\n}\r\n\r\nexport default Modal;","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport Modal from '../Modal/Modal';\r\nimport PropTypes from 'prop-types';\r\nimport styles from '../IngredientDetails/IngredientDetails.module.css';\r\n\r\nconst IngredientDetails = ({isOpened, onClose}) => {\r\n\r\n  const { card } = useSelector(store => ({\r\n    card: store.currentIngredient\r\n  }));\r\n\r\n  if (card !== null) {\r\n    return (\r\n      <Modal isOpened={isOpened} onClose={onClose}>\r\n        <div className={`${styles.content} pt-10 pl-10 pb-15`}>\r\n          <h2 className={`${styles.title} text text_type_main-large`}>Детали ингредиента</h2>\r\n          <img className={`${styles.container__image} mb-4`} src={card.image_large} alt={`Изображение ${card.name}`} />\r\n          <p className=\"text text_type_main-medium mb-8\">{card.name}</p>\r\n          <ul className={`${styles.container__attributes} mb-15`}>\r\n            <li className={`${styles.container__attribute}`}>\r\n              <p className=\"text text_type_main-default text_color_inactive\">Калории, ккал</p>\r\n              <p className={`${styles.value} text text_type_digits-default text_color_inactive`}>{card.calories}</p>\r\n            </li>\r\n            <li className={`${styles.container__attribute} ml-5`}>\r\n              <p className=\"text text_type_main-default text_color_inactive\">Белки, г</p>\r\n              <p className={`${styles.value} text text_type_digits-default text_color_inactive`}>{card.proteins}</p>\r\n            </li>\r\n            <li className={`${styles.container__attribute} ml-5`}>\r\n              <p className=\"text text_type_main-default text_color_inactive\">Жири, г</p>\r\n              <p className={`${styles.value} text text_type_digits-default text_color_inactive`}>{card.fat}</p>\r\n            </li>\r\n            <li className={`${styles.container__attribute} ml-5`}>\r\n              <p className=\"text text_type_main-default text_color_inactive\">Углеводы, г</p>\r\n              <p className={`${styles.value} text text_type_digits-default text_color_inactive`}>{card.carbohydrates}</p>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </Modal>\r\n    )\r\n  }\r\n  return (<> </>)\r\n  \r\n}\r\n\r\nIngredientDetails.propTypes = {\r\n  isOpened: PropTypes.bool.isRequired,\r\n  onClose: PropTypes.func.isRequired\r\n}\r\n\r\nexport default IngredientDetails;\r\n","export default __webpack_public_path__ + \"static/media/done.e036971b.png\";","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useSelector } from 'react-redux';\r\nimport styles from './OrderDetails.module.css';\r\nimport { getStringOrder } from '../../utils/utils';\r\nimport check  from '../../images/done.png';\r\nimport Modal from '../Modal/Modal';\r\n\r\n\r\nconst OrderDetails = ({isOpened, onClose, modalOrder}) => {\r\n  const { number } = useSelector(store => ({\r\n    number: store.order.orderNumber,\r\n  }))\r\n  \r\n  \r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    \r\n  }\r\n    return (\r\n    <Modal isOpened={isOpened} onClose={handleClose} modalOrder={modalOrder}>\r\n      <div className={`${styles.container__content} pb-30 pt-20`}>\r\n        <p className={`${styles['order-number']} text text_type_digits-large mb-8`}>{getStringOrder(number)}</p>\r\n        <p className=\"text text_type_main-medium mb-15\">идентификатор заказа</p>\r\n        <img className={`${styles.container__icon} mb-15`} src={check} alt=\"Иконка\" />\r\n        <p className=\"text text_type_main-small \">Ваш заказ начали готовить</p>\r\n        <p className=\"text text_type_main-small text_color_inactive mt-2 \">Дождитесь готовности на орбитальной станции</p>\r\n      </div>\r\n    </Modal>\r\n    \r\n  )\r\n}\r\n\r\nOrderDetails.propTypes = {\r\n  isOpened: PropTypes.bool.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n  modalOrder: PropTypes.bool.isRequired\r\n}\r\n\r\nexport default OrderDetails;\r\n","import React, { useEffect } from 'react';\nimport { DndProvider } from \"react-dnd\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\nimport { useDispatch } from 'react-redux';\n\nimport AppHeader from '../AppHeader/AppHeader';\nimport BurgerIngredients from '../BurgerIngredients/BurgerIngredients';\nimport BurgerConstructor from '../BurgerConstructor/BurgerConstructor';\nimport IngredientDetails from '../IngredientDetails/IngredientDetails';\nimport OrderDetails from '../OrderDetails/OrderDetails';\nimport { getIngredients } from '../../systems/actions/index';\nimport { CLEAR_ORDER, CLEAR_CONSTRUCTOR } from '../../systems/actions/index';\nimport styles from './App.module.css';\n\nfunction App() {\n  const [modalOrder, setModalOrder] = React.useState(false);\n  const dispatch = useDispatch();\n  \n  const [modalIngredientsDetailsIsOpened, setModalIngredientsDetailsIsOpened] = React.useState(false);\n  const [modalOrderDetailsIsOpened, setModalOrderDetailsIsOpened] = React.useState(false);\n\n  const handleClickOnCard = () => {\n    setModalIngredientsDetailsIsOpened(true);\n  }\n\n  const handleCloseModal = () => {\n    setModalOrderDetailsIsOpened(false);\n    setModalIngredientsDetailsIsOpened(false);\n    if (modalOrder) {\n      dispatch({type: CLEAR_ORDER});\n      dispatch({type: CLEAR_CONSTRUCTOR});\n      setModalOrder(false);\n    }\n  }\n\n\n  const handleClickOnButton = () => {\n    setModalOrder(true);\n    setModalOrderDetailsIsOpened(true);\n  }\n\n  \n  useEffect(() => {\n    dispatch(getIngredients());\n  }, [dispatch])\n\n  return (\n      <div className={`${styles.app}`}>\n        <AppHeader />\n        <DndProvider backend={HTML5Backend}>\n          <main className={`${styles.main} pb-13`}>\n            <h1 className=\"text text_type_main-large mt-10 mb-5\">Соберите бургер</h1>\n            <div className={`${styles.main__container}`}>\n            <BurgerIngredients\n              onClick={handleClickOnCard}\n            />      \n              <BurgerConstructor\n                onClick={handleClickOnButton}\n              />\n            </div>\n          </main>\n        </DndProvider>\n        <IngredientDetails\n          modalOrder={modalOrder}\n          isOpened={modalIngredientsDetailsIsOpened}\n          onClose={handleCloseModal}\n        />\n        <OrderDetails\n          modalOrder={modalOrder}\n          isOpened={modalOrderDetailsIsOpened}\n          onClose={handleCloseModal}\n        />\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport thunk from 'redux-thunk';\n\nimport { compose, createStore, applyMiddleware } from 'redux';\nimport { rootReducer } from './systems/reducers/index';\nimport { Provider } from 'react-redux';\n\nimport './index.css';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\n\nconst composeEnhancers =\n  typeof window === 'object' && (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    ? (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\n    : compose;\n\nconst enhancer = composeEnhancers(applyMiddleware(thunk));\nconst store = createStore(rootReducer, enhancer);\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppHeader_header__R1Ju4\",\"container\":\"AppHeader_container__2k0vk\",\"menu\":\"AppHeader_menu__2y1mZ\",\"menu__link\":\"AppHeader_menu__link__1dLOY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredients\":\"BurgerIngredients_ingredients__1RZMV\",\"ingredients__groups\":\"BurgerIngredients_ingredients__groups__3tdwH\",\"constructor__error\":\"BurgerIngredients_constructor__error__1QUk1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredients__list\":\"IngredientsList_ingredients__list__1rBjh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"IngredientCard_card__2cvlv\",\"card__price-wrapper\":\"IngredientCard_card__price-wrapper__3GZwx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container__content\":\"OrderDetails_container__content__3rkV3\",\"order-number\":\"OrderDetails_order-number__zYBVK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"App_main__1h6xZ\",\"main__container\":\"App_main__container__2Egxi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__1ihBl\",\"preloader__circle\":\"Preloader_preloader__circle__WFhxI\",\"spin\":\"Preloader_spin__J40JB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal-body\":\"Modal_modal-body__3PBCe\",\"close\":\"Modal_close__2aAfS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"ModalOverlay_modal__8zj0c\",\"modal_show\":\"ModalOverlay_modal_show__3mLdl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"HeaderButton_button__GdsEP\",\"button__text\":\"HeaderButton_button__text__3nU9a\",\"button__text_active\":\"HeaderButton_button__text_active__1FbqU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabs\":\"Tabs_tabs__egITS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filling\":\"FilingConstructor_filling__2vetL\"};"],"sourceRoot":""}