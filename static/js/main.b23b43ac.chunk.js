(this["webpackJsonpreact-burger"]=this["webpackJsonpreact-burger"]||[]).push([[0],{100:function(e,t,n){e.exports={button:"HeaderButton_button__GdsEP",button__text:"HeaderButton_button__text__3nU9a",button__text_active:"HeaderButton_button__text_active__1FbqU"}},101:function(e,t,n){e.exports={tabs:"Tabs_tabs__egITS"}},104:function(e,t,n){e.exports={filling:"FilingConstructor_filling__2vetL"}},105:function(e,t,n){e.exports={main__container:"MainPage_main__container__2iTmv"}},106:function(e,t,n){e.exports={link:"ParagraphForm_link__1HSoW"}},107:function(e,t,n){e.exports={container:"Register_container__1ongM",input:"Register_input__2spO4",error:"Register_error__31pK-"}},108:function(e,t,n){e.exports={container:"ForgotPassword_container__1KEGG"}},109:function(e,t,n){e.exports={container:"ResetPassword_container__qapjy"}},110:function(e,t,n){e.exports={container:"Profile_container__2azTw"}},121:function(e,t,n){},17:function(e,t,n){e.exports={content:"IngredientDetails_content__1sSOI",container__attributes:"IngredientDetails_container__attributes__2fYVW",title:"IngredientDetails_title__28rCS",value:"IngredientDetails_value__1mPnt"}},18:function(e,t,n){e.exports={content:"IngredientView_content__1c6D8",container__attributes:"IngredientView_container__attributes__3CK67",value:"IngredientView_value__3mHur"}},192:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(29),i=n.n(r),s=n(97),o=n(8),l=n(26),u=n(49),d=n(2),j=n(98),b=n(99);function m(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}var p=function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))};function _(e){for(var t=String(e),n=1;t.length<6;n++)t="0"+t;return t}var O=new(function(){function e(){Object(j.a)(this,e),this._base_url="https://norma.nomoreparties.space/api"}return Object(b.a)(e,[{key:"getIngredients",value:function(){return fetch("".concat(this._base_url,"/ingredients/"),{method:"GET",headers:{"Content-type":"application/json"}}).then(p)}},{key:"createOrder",value:function(e){return fetch("".concat(this._base_url,"/orders/"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({ingredients:e})}).then(p)}},{key:"register",value:function(e){return fetch("".concat(this._base_url,"/auth/register/"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({name:e.name,email:e.email,password:e.password})}).then(p)}},{key:"login",value:function(e){return fetch("".concat(this._base_url,"/auth/login/"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({email:e.email,password:e.password})}).then(p)}},{key:"updateTokens",value:function(e){return fetch("".concat(this._base_url,"/auth/token/"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({token:e})}).then(p).then((function(e){localStorage.setItem("refresh",e.refreshToken),localStorage.setItem("token",e.accessToken)})).catch((function(e){return console.log(e.status)}))}},{key:"logOut",value:function(){return fetch("".concat(this._base_url,"/auth/logout/"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({token:localStorage.getItem("refresh")})}).then(p)}},{key:"forgot",value:function(e){return fetch("".concat(this._base_url,"/password-reset/"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({email:e})}).then(p)}},{key:"reset",value:function(e){return fetch("".concat(this._base_url,"/password-reset/reset/"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({password:e.password,token:e.code})}).then(p)}},{key:"getUserInfo",value:function(){return fetch("".concat(this._base_url,"/auth/user/"),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-type":"application/json",Authorization:"".concat(localStorage.getItem("token"))},redirect:"follow",referrerPolicy:"no-referrer"}).then((function(e){return e.json()})).then((function(e){return e}))}},{key:"editUserInfo",value:function(e){return fetch("".concat(this._base_url,"/auth/user/"),{method:"PATCH",headers:{"Content-type":"application/json",Authorization:"".concat(localStorage.getItem("token"))},body:JSON.stringify({password:e.password,name:e.name,email:e.email})}).then((function(e){return e.json()})).then((function(e){return e}))}}]),e}()),h="SET_USERS_DATA_SUCCESS",x="USER_REQUEST",g="USER_FAILED",f="REQUEST_PASSWORD_RESET",v="USER_REQUEST_CLEAN",N="CLEAR_USER_STORE",y="ERROR_401",E="GET_INGREDIENTS_SUCCESS",R="GET_INGREDIENTS_REQUEST",C="GET_INGREDIENTS_FAILED",I="INGREDIENT_COUNT_INCREMENT",S="INGREDIENT_COUNT_DECREMENT",A="INGREDIENT_COUNT_CLEAR",k="INGREDIENT_COUNTS_CLEAR",T="ADD_INGREDIENT_TO_CONSTRUCTOR",w="DELETE_INGREDIENT_FROM_CONSTRUCTOR",D="CLEAR_CONSTRUCTOR",F="DELETE_BUN_FROM_CONSTRUCTOR",q="SORT_INGREDIENTS_IN_CONSTRUCTOR",B="GET_INGREDIENT_INFO",P="CLEAR_INGREDIENT_INFO",U="POST_ORDER_SUCCESS",J="POST_ORDER_REQUEST",L="POST_ORDER_FAILED",G="ADD_INGREDIENT_IN_ORDER",V="DELETE_INGREDIENT_FROM_ORDER",M="CALCULATE_COAST",z="CLEAR_ORDER",Q="POST_ORDER_ERROR";function Y(){return function(e){e({type:R}),O.getIngredients().then((function(t){var n=[];t.data.map((function(e){return n.push(Object(d.a)(Object(d.a)({},e),{},{counter:0}))})),e({type:E,data:n})})).catch((function(){e({type:C})}))}}var H=function(e){return function(t){var n=localStorage.getItem("refresh");O.updateTokens(n).then((function(){return t(e)}))}};function K(){return function(e){e({type:x}),O.getUserInfo().then((function(t){if(!t.success)throw t;e({type:h,data:t.user})})).catch((function(t){"jwt expired"===t.message&&(console.log(t),e(H(K())))}))}}function W(e){return function(t){t({type:x}),O.editUserInfo(e).then((function(e){if(!e.success)throw e;t({type:h,data:e.user})})).catch((function(n){t({type:g}),console.log(n),"jwt expired"===n.message&&(console.log(n),t(H(W(e))))}))}}var Z={coast:0,orderNumber:0,ingredientsOrder:[],orderRequest:!1,orderFailed:!1,orderError:!1},X={},$={items:[]},ee={ingredients:[],ingredientsRequest:!1,ingredientsFailed:!1},te={userData:null,userRequest:!1,userFailed:!1,requestResetPassword:!1,error_401:!1},ne=Object(l.b)({ingredients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(d.a)(Object(d.a)({},e),{},{ingredientsRequest:!0});case E:return Object(d.a)(Object(d.a)({},e),{},{ingredientsRequest:!1,ingredientsFailed:!1,ingredients:t.data});case C:return Object(d.a)(Object(d.a)({},e),{},{ingredientsRequest:!1,ingredientsFailed:!0});case I:return Object(d.a)(Object(d.a)({},e),{},{ingredients:e.ingredients.map((function(e){return e._id===t.id?Object(d.a)(Object(d.a)({},e),{},{counter:e.counter+t.counter}):e}))});case S:return Object(d.a)(Object(d.a)({},e),{},{ingredients:e.ingredients.map((function(e){return e._id===t.id?Object(d.a)(Object(d.a)({},e),{},{counter:e.counter-t.counter}):e}))});case A:return Object(d.a)(Object(d.a)({},e),{},{ingredients:e.ingredients.map((function(e){return"bun"===e.type?Object(d.a)(Object(d.a)({},e),{},{counter:0}):e}))});case k:return Object(d.a)(Object(d.a)({},e),{},{ingredients:e.ingredients.map((function(e){return Object(d.a)(Object(d.a)({},e),{},{counter:0})}))});default:return e}},burgerConstructor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(d.a)(Object(d.a)({},e),{},{items:[].concat(Object(u.a)(e.items),[t.item])});case w:return Object(d.a)(Object(d.a)({},e),{},{items:e.items.filter((function(e){return e.uuid!==t.uuid}))});case F:return Object(d.a)(Object(d.a)({},e),{},{items:e.items.filter((function(e){return"bun"!==e.type}))});case q:return Object(d.a)(Object(d.a)({},e),{},{items:t.data});case D:return $;default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(d.a)(Object(d.a)({},e),{},{ingredientsOrder:[].concat(Object(u.a)(e.ingredientsOrder),[t.id])});case V:return Object(d.a)(Object(d.a)({},e),{},{ingredientsOrder:e.ingredientsOrder.filter((function(e){return e.id!==t.id}))});case J:return Object(d.a)(Object(d.a)({},e),{},{orderRequest:!0});case U:return Object(d.a)(Object(d.a)({},e),{},{orderFailed:!1,orderRequest:!1,ingredientsOrder:[],orderError:!1,orderNumber:t.number});case L:return Object(d.a)(Object(d.a)({},e),{},{orderFailed:!0,orderRequest:!1});case z:return Z;case M:return Object(d.a)(Object(d.a)({},e),{},{coast:t.items.reduce((function(e,t){return"bun"===t.type?e+=2*t.price:e+=t.price}),0)});case Q:return Object(d.a)(Object(d.a)({},e),{},{orderError:!0});default:return e}},currentIngredient:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return t.item;case P:return X;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(d.a)(Object(d.a)({},e),{},{userRequest:!0,userData:{},requestResetPassword:!1,error_401:!1});case h:return Object(d.a)(Object(d.a)({},e),{},{userData:t.data,userRequest:!1,userFailed:!1,requestResetPassword:!1});case g:return Object(d.a)(Object(d.a)({},e),{},{userData:null,userFailed:!0,userRequest:!1,requestResetPassword:!1});case f:return Object(d.a)(Object(d.a)({},e),{},{requestResetPassword:!e.requestResetPassword});case v:return Object(d.a)(Object(d.a)({},e),{},{userData:null,userRequest:!1});case y:return Object(d.a)(Object(d.a)({},e),{},{error_401:!0});case N:return te;default:return e}}}),ce=n(5),ae=(n(121),n(197)),re=n(111),ie=n(11),se=n(4),oe=n(9),le=n(100),ue=n.n(le),de=n(0);var je=function(e){var t=e.component,n=e.text,c=e.active,a=e.onSetCurrent,r=e.path;return Object(de.jsxs)(o.b,{to:r,className:"".concat(ue.a.button," pt-4 pb-4 pr-5 pl-5"),value:n,onClick:function(){return a(n)},children:[Object(de.jsx)(t,{type:"".concat(c===n?"primary":"secondary")}),Object(de.jsx)("p",{className:"text text_type_main-default ml-2 ".concat(c===n?"":"text_color_inactive"),children:n})]})},be=n(30),me=n.n(be);var pe=function(){var e=a.a.useState("\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440"),t=Object(ie.a)(e,2),n=t[0],r=t[1],i=Object(oe.h)();function s(e){r(e)}return Object(c.useEffect)((function(){i.pathname.startsWith("/profile")&&r("\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"),"/"===i.pathname&&r("\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440")}),[i]),Object(de.jsx)("header",{className:"".concat(me.a.header," pt-4 pb-4"),children:Object(de.jsxs)("div",{className:"".concat(me.a.container),children:[Object(de.jsxs)("ul",{className:"".concat(me.a.menu," ").concat(me.a.header__navigation),children:[Object(de.jsx)("li",{className:"".concat(me.a.menu__item," mr-2"),children:Object(de.jsx)(je,{path:"/",onSetCurrent:s,component:se.BurgerIcon,text:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440",active:n})}),Object(de.jsx)("li",{className:"menu__item",children:Object(de.jsx)(je,{path:"/pppo",onSetCurrent:s,component:se.ListIcon,active:n,text:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})})]}),Object(de.jsx)("span",{className:"mr-30",children:Object(de.jsx)(se.Logo,{})}),Object(de.jsx)(je,{path:"/profile",onSetCurrent:s,active:n,component:se.ProfileIcon,text:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442"})]})})},_e=n(73),Oe=n.n(_e),he=n(74),xe=n.n(he),ge=function(e){var t=e.isOpened,n=e.onClose,c=e.children;return Object(de.jsx)("div",{className:"".concat(xe.a.modal," ").concat(t&&xe.a.modal_show),onMouseDown:function(e){e.target===e.currentTarget&&t&&n()},children:c})},fe=document.getElementById("modal-root"),ve=function(e){var t=e.isOpened,n=e.children,c=e.onClose;e.modalOrder;return a.a.useEffect((function(){if(t){var e=function(e){"Escape"===e.key&&c()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}}),[t,c]),i.a.createPortal(Object(de.jsx)(ge,{isOpened:t,onClose:c,children:Object(de.jsxs)("div",{className:"".concat(Oe.a["modal-body"]),children:[Object(de.jsx)("button",{type:"button",onClick:c,className:"".concat(Oe.a.close)}),n]})}),fe)},Ne=n(17),ye=n.n(Ne),Ee=function(e){var t=e.isOpened,n=e.onClose,c=Object(ce.c)((function(e){return{card:e.currentIngredient}})).card;return null!==c?Object(de.jsx)(ve,{isOpened:t,onClose:n,children:Object(de.jsxs)("div",{className:"".concat(ye.a.content," pt-10 pl-10 pb-15"),children:[Object(de.jsx)("h2",{className:"".concat(ye.a.title," text text_type_main-large"),children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"}),Object(de.jsx)("img",{className:"".concat(ye.a.container__image," mb-4"),src:c.image_large,alt:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 ".concat(c.name)}),Object(de.jsx)("p",{className:"text text_type_main-medium mb-8",children:c.name}),Object(de.jsxs)("ul",{className:"".concat(ye.a.container__attributes," mb-15"),children:[Object(de.jsxs)("li",{className:"".concat(ye.a.container__attribute),children:[Object(de.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438, \u043a\u043a\u0430\u043b"}),Object(de.jsx)("p",{className:"".concat(ye.a.value," text text_type_digits-default text_color_inactive"),children:c.calories})]}),Object(de.jsxs)("li",{className:"".concat(ye.a.container__attribute," ml-5"),children:[Object(de.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(de.jsx)("p",{className:"".concat(ye.a.value," text text_type_digits-default text_color_inactive"),children:c.proteins})]}),Object(de.jsxs)("li",{className:"".concat(ye.a.container__attribute," ml-5"),children:[Object(de.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0416\u0438\u0440\u0438, \u0433"}),Object(de.jsx)("p",{className:"".concat(ye.a.value," text text_type_digits-default text_color_inactive"),children:c.fat})]}),Object(de.jsxs)("li",{className:"".concat(ye.a.container__attribute," ml-5"),children:[Object(de.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(de.jsx)("p",{className:"".concat(ye.a.value," text text_type_digits-default text_color_inactive"),children:c.carbohydrates})]})]})]})}):Object(de.jsx)(de.Fragment,{children:" "})},Re=n(112),Ce=n(75),Ie=n.n(Ce);var Se=function(){return Object(de.jsx)("section",{className:"".concat(Ie.a.preloader),children:Object(de.jsx)("img",{className:"".concat(Ie.a.preloader__circle),src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIkAAACQCAYAAAA8/UiaAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAxxSURBVHgB7Z3PTxvpGcef57UpTqu2Dukm7aneAlJUFXAqIuVQKfAXhNy2p9DDbkwvmNv2BDm1e4qRuoKoh5JT29OSY0/ALYdUMRCtUBcW97apVokTdhs2npmn7zsGAsY/ZjzvDPMOz0eKkpgBD57v++v5icBoIZ8rZqFnf4IcuAkCxogoC4BZ9TVEqABBhQBWBdqPyl/8pQwGgZAg3AeV+m7MEc7PgUSu/ipVBeE62FQuVxYroBn1nk56vyjfZ/pQFJ1AwDIRlDZ2Fh6CASRCJPmBwpgcpbPyz1jbC+Volr/ynK6HMzzwkRQHznoVRyMItIwWzoQhXp0YLZL84Id5otT9juJoRINYhgcLS/Ln3IGgyHuxhH378xgvQcaKJOgorkOlje0HM+ATbQJ5dx9VC53xuArFSJEMDxTm5F+zoAG5N1ja3Fn8ndfrdb53w51UhYXX4rj0CDCMof6pCdD4kOTJY3J44O59L9cODRYmIRSBuHeStdPwV4ghKTCI/NVCTv71N/knwBLTDLzxXt/o2n9fPKm0u+qnl0Y/0//ex+4CIHfl4vXK85dP1iFGGDWTkC1HMUEOQkBQ+1HsziIhvfdJaA5ihjEiUbOI3D9MQlgg5Ib6795q+WXCaYgCeR+/kkd6iBHGiMS2fR5zuwGx2Ozl+jJHeYiIlNaTU3CMEYmI4IOTxq28a7VtwK5hZAJR+Lb7hIwxIqFIRjJm3/Z8mzv1Kkp/TJTIJaeZWM8KI0RS/8Awkg8t7aRHGl9DpMgfGGLtxxATzJhJMvuxGVXnEeOMaUz0GCGS8lZ0pmpSsR+NrxFWIWKe7n76H4gJBs0kGInzq2bRqYdDSBFbQClWjj6TlptVCB0qbzVxsKVqmWWIEDlzxUokaQiJE+F8KO0MhycEN5aDqkRiWdi05tXr6QA9koouQqhgUzGUK6Xq0EBhFaOyXyAuQYzQHirgN5wPpasebbjnRSzyQa2E+aDeWvD+Vov7UKZyKdIVCBs5iDZ2Ft+HGKF1uVFhhE7P/lNw3ene7BpyozjppGDlIASg/bUA9yAkHIC5rTZCfba9uEqRLHk4BzFDW6jA0C+klxShO1c6QlZaNT+40jeKz188WW11mXLlX+67npWzyQ3QiRy9mzuLtztd9pNL19YFiAKExEEAVGgDoVu0zCRqFkChJWBmdrh/qq2PZnN7YUbrSUcK5K0N414urYcXou9wR6/3UbMhdgJRBBaJ8pCiIE+RXZ5Ap5TPucFFLRFW77iWqf9AIFs+QgY3thdKamkCnXRxH1ESeLm5cnH0vvwlx0AbmHEE5OXS0jKS/avq43319ff6RqHbjawSmRy5t7t5MPK914K8d8ONxFogikCnGzWLOBbsQgjI0TquNoudrrsq76HHhln0GJBUn4FwTi5baxAQ98SDcpntMmKNAEt7Vu+9ijxiQ4wJJJLhwbvT8nhSglDA0oa7//DGgVjG5O7vFoLK3nNy7glLmtnpIMUSAVd1iKMRFdqI4DW0UtmIcNkW9nycc22OE0gkI9JuEVqATAztBZ345eCH+TSIm+Quv6hObDn1OpEys4uK3NyXX7/tfRT3maORYDPJwN2XYcZ5CCtzsWzYB5pEAp5uwg0EilPgzXmma5Ec5MAw54CuRRJFjAdRzytgzpxgy02TAB19UJX3I/EgkEgwRIdXNM40xguBRGIThFapB0lEGujDtCZwPMnwYGFXe46sgTaSJBPYwecQeK7t4Z34xVScZwI7+NwYj0uj78spSUuGHQEtb+4s/gGY2KAlniRVyxS1xHjIZWbPuhDCzMQEQYtI1FG1HuNBXW821WnmtZ25Zppf4zygPRB6eGCqKI8m0943s1R1EOaeffFgHphYEkphvUO3fb3wS4tqANIQJze9S99YmXmePeJN6NUXc7li9ofp70aApOs8RVmLrPX/1X5QYWEwDMMwDMMwfui4cT1sDwLiWMK3lSmzG//80FQkbtJ3z5s78gg70SrQWYUJEOGSKT1bmO45JRI36dtPLomcWYQN43Hv2cJ0zwmzvOrA4KjyCn5c/wg5Jw27nXJ4GXM58gIf9I/5I3QLwkQci+czwXGXG33pmvHt2cJ0j7vckKWrz4rq2aKxwgATCzA/+Pu8Q85T0Ahn3iUL4RBp33Cq4zMwiUFgCIX9iUJKImfOBBFG9wdphIu09QcTLiKq7g+MuQh1bAWGaYMA1F9cn0LNEWaiRsgnqj2dEiFetdGZYAhVsx00Y6HFnuEEIXSXw1Y/y5SCcYw36mZ5jTXba1YYucHMWeJ6gVU+r47itapS8udfLmpfvpiz5ShUQFU5DlLcXwlELl2xrI3OBONEVQEplH/6n1HcNM2Pn20/+ASYRHKq9ISaUS5eHn0o7fVyVqGcqvXe/FulOAD/tGdd+O2/v/xUe5VlJj50jJYfGpi6iejkVZpm/Tvc1mjlPat3nVM1GYZhGIZhGIZhGIZhGIZhGIZhtNK50pFbr4RGgEQOibIqyFkQroPdu8qpnOeDliJRvW6lGKbbJW8hwRLacI+rCCSb05WOrhZyqsqA536/bmNmnNncWeAmRgnlRDyJW6fEhhXw05YEQTVJ/uBK369fPX/xr8fAJI4T5bDcOiVdd8ES91WHbWASR/rwH2oPErQaQIpSqoDNODDG4VbcTO8XEfCWijokcB4J6/tL6nBytCfR1UvPkSJRuTzAGMPRNqPx+buVNTPX3OVGVTvS1WwxRcAFbAyj5TbDray5P+2KxAH7JmiCgAvYmIRaZto+M4LJ+sZVGspAF6i5/SsTLpn99vVpkLKuSBCJC9mcU8pbyhDaukaNtIGV67nApLOeCBfFMQ/RJvMS5w5EgtqqOBPXJjGOje2FkkrThRPFh1R+Fd7e3F5Yq1eEds/Ib3a11E8jnOTOFeaikvFstF4dLx/yzk4yUJgFpaZAUPWthde22OGXKI7M8sLKzAfdTziAJRZI8jjhBR7qn5qQJ53PoAtUhaPN7UU2ySeQEw4+5e4n9F+pSAlkz8rcBiaRNA06Uh3Cv2d7aY7ELeTPA23DF9VOV1rcJutlwA8j1JSHEMtyWVp+XbvwkMtPMAzDMAzDMAzDMAzDMAzDHNAxYVwHKl4Fer7NAaRUVH4F0K6Wud2JMYQqElWRQDr/ZptGY7ticeYPE4CAiS2hiWS4v1CSP32644VuAhCMc2WC+BKKSDwL5AiqWuiMc8et7nFDUHve3EEH84RYFQRrZU2VHrSLZHjgo6JKHge/HKQU8tLjn/pnjrOnYpQ1zdICNKJySgGFjxnkGAcphcD4QiX61wdlkyB29ZmmYCWfk88lAFpFYttygxoop5iKwPhCLgWzHS6Qgw8DDT6tIhGkyhYEAbNc48Q76vTobVA6kxAArSKRR90cBCTtpEeA8YRNXvOkguVTaRUJcE5xpBB6TYEJliqjVySEgU8mBA6fbjyStjJlLwIgwkBHYb0i0dCpvGbry0tOOnVzgejYZrdmB2sOrlUkDlDAxtFU5gxAfxwlezelnvQd9DNNgUZUp/LLfaNj2O0GlsTHz18+4ZnEJ8fb9Mr/VtVgI8C/u+14d/8c2Iqt3eKqjrBpEit+d9REsLS5s+g7e5AJH917ElD+F+k7mPH1TYDlPTvj83uYqAjNC+w1VVROi6XN7QUWSIwJPejI9S0Q3UJQxftUqqg6somK3OQuWxY8DHOjeuiz4DCEYEQSmRYlebkncih9p26Kfrcvkr/oqtzpL0VZheldRJ4UqsFhEIkSyfBAYQ46OLzq7VcyM2GGJDSPyKMqSqOWia1fEiMSLwJ5B5aF1TsehlA63oeBkXjaTzdnQb5/agI8C0RB+TBiVzwJ9SjGo2iMnysRIpGOri4eOBV1Pig34Ao83odhAVbGi8Tt9NVVPXt0Y0JBE27AlR8DIsEkGIL5M4kVIIZFY019uSn1FwcjZxNTlhzjRWIHaHigupOCJpJcn9/8mcTpPoZFpR6AJkg61Xx9gzwSm5IZYLxIUnbvKnQJkbMKmhC1C76MdEEDgaLEeJGo0UjdBDtJe8XmzoOA8S+N94Elr9cHDQSKkkQcgWtpVaDYbxwnzoFmUlbvPfDQpcMmnDQpuEpr0NFZ8fXXT6qXL11/Ls3HE16udz3POwufgGa+qj7e/9mPfvMPR9gZeS83Tr+vmvFw8tnOgrYZLAoS5btxa+MLut86PCG6CtYqVKKnJkYQnbw8RlWJRFn1jgEDSZwXWFEPT4A7qIxb8miqOoOpUfyNlZnnCtb++T84ZjUH58Jk0wAAAABJRU5ErkJggg==",alt:"Preloader"})})},Ae=["component"],ke=function(e){var t=e.component,n=Object(Re.a)(e,Ae),c=Object(ce.c)((function(e){return{user:e.user.userData,reset:e.user.requestResetPassword,userRequest:e.user.userRequest}})),a=c.user,r=c.reset,i=c.userRequest,s=Object(oe.h)();return Object(de.jsxs)(de.Fragment,{children:[i?Object(de.jsx)(Se,{}):Object(de.jsx)(oe.b,{path:n.path,exact:!0,children:"/login"===n.path?function(){var e;return null===a?Object(de.jsx)(t,Object(d.a)({},n)):Object(de.jsx)(oe.a,{to:(null===(e=s.state)||void 0===e?void 0:e.from.pathname)||"/"})}:"/register"===n.path?function(){return null===a?Object(de.jsx)(t,Object(d.a)({},n)):Object(de.jsx)(oe.a,{to:"/"})}:"/reset-password"===n.path?function(){return r?Object(de.jsx)(t,Object(d.a)({},n)):Object(de.jsx)(oe.a,{to:"/forgot-password"})}:"/forgot-password"===n.path?function(){return a?Object(de.jsx)(oe.a,{to:"/"}):Object(de.jsx)(t,Object(d.a)({},n))}:function(){return localStorage.getItem("token")?Object(de.jsx)(t,Object(d.a)({},n)):Object(de.jsx)(oe.a,{to:{pathname:"/login",state:{from:s}}})}})," "]})},Te=n(22),we=n.n(Te),De=function(){var e=Object(ce.b)(),t=Object(oe.g)(),n=Object(oe.h)();return Object(de.jsxs)("div",{className:"mr-15",children:[Object(de.jsxs)("ul",{className:"".concat(we.a.container," mt-0 mb-20"),children:[Object(de.jsx)("li",{className:"".concat(we.a.item),children:Object(de.jsx)(o.c,{to:"/profile",className:"".concat(we.a.link," text text_type_main-medium text_color_inactive pt-5 pb-5"),activeClassName:"".concat("/profile"===n.pathname&&we.a.active),children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(de.jsx)("li",{className:we.a.item,children:Object(de.jsx)(o.c,{to:"/profile/orders",className:"".concat(we.a.link," text text_type_main-medium text_color_inactive pt-5 pb-5"),activeClassName:we.a.active,children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"})}),Object(de.jsx)("li",{className:we.a.item,children:Object(de.jsx)("button",{className:"".concat(we.a.button," text text_type_main-medium text_color_inactive pt-5 pb-5"),onClick:function(){O.logOut().then((function(){localStorage.removeItem("refresh"),localStorage.removeItem("token"),e({type:N}),t.push("/login")}))},children:"\u0412\u044b\u0445\u043e\u0434"})})]}),"/profile"===n.pathname?Object(de.jsx)("p",{className:"".concat(we.a.text," text text_type_main-default text_color_inactive"),children:"\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"}):Object(de.jsx)(de.Fragment,{})]})},Fe=n(38);function qe(){var e=a.a.useState({}),t=Object(ie.a)(e,2),n=t[0],r=t[1],i=a.a.useState({}),s=Object(ie.a)(i,2),o=s[0],l=s[1],u=a.a.useState(!1),j=Object(ie.a)(u,2),b=j[0],m=j[1],p=Object(c.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r(e),l(t),m(n)}),[r,l,m]);return{values:n,handleChange:function(e){var t=e.target,c=t.value,a=t.name;r(Object(d.a)(Object(d.a)({},n),{},Object(Fe.a)({},a,c))),l(Object(d.a)(Object(d.a)({},o),{},Object(Fe.a)({},a,t.validationMessage))),m(t.closest("form").checkValidity())},resetForm:p,errors:o,isValid:b,setIsValid:m,setValues:r}}var Be=n(23),Pe=n.n(Be),Ue=function(){var e=Object(ce.c)((function(e){return{user:e.user.userData}})).user,t=Object(ce.b)(),n=qe(),a=n.values,r=n.handleChange,i=n.isValid,s=n.setValues;return Object(c.useEffect)((function(){e&&s({name:e.name,email:e.email,password:"***"})}),[e,s]),Object(de.jsx)(de.Fragment,{children:Object(de.jsxs)("form",{className:"".concat(Pe.a.form," mb-20 mt-0"),onSubmit:function(e){e.preventDefault(),t(W(a))},children:[Object(de.jsxs)("ul",{className:"".concat(Pe.a.inputs," mt-0"),children:[Object(de.jsx)("li",{className:"".concat(Pe.a.input," mb-6"),children:Object(de.jsx)(se.Input,{type:"text",placeholder:"\u0418\u043c\u044f",name:"name",required:!0,onChange:r,value:a.name||"",icon:"EditIcon"})}),Object(de.jsx)("li",{className:"".concat(Pe.a.input," mb-6"),children:Object(de.jsx)(se.Input,{type:"email",required:!0,placeholder:"\u041b\u043e\u0433\u0438\u043d",name:"email",onChange:r,value:a.email||"",icon:"EditIcon"})}),Object(de.jsx)("li",{className:"".concat(Pe.a.input),children:Object(de.jsx)(se.Input,{type:"password",required:!0,minLength:"6",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",onChange:r,value:a.password||"",icon:"EditIcon"})})]}),i&&Object(de.jsxs)("div",{className:"".concat(Pe.a.buttons),children:[Object(de.jsx)("button",{className:"".concat(Pe.a.reset," text text_type_main-small pr-3 pl-7"),type:"button",onClick:function(){s({name:e.name,email:e.email,password:"***"})},children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(de.jsx)(se.Button,{className:Pe.a.button,type:"primary",size:"large",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})})},Je=n(31),Le=n.n(Je),Ge=n(101),Ve=n.n(Ge),Me=function(e){var t=e.currentTab,n=e.onClick;return Object(de.jsxs)("div",{className:"".concat(Ve.a.tabs),children:[Object(de.jsx)(se.Tab,{value:"buns",active:"buns"===t,onClick:function(e){return n(e)},children:"\u0411\u0443\u043b\u043a\u0438"}),Object(de.jsx)(se.Tab,{value:"sauces",active:"sauces"===t,onClick:function(e){return n(e)},children:"\u0421\u043e\u0443\u0441\u044b"}),Object(de.jsx)(se.Tab,{value:"mains",active:"mains"===t,onClick:function(e){return n(e)},children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"})]})},ze=n(32),Qe=n.n(ze),Ye=n(198),He=n(10),Ke=n.n(He),We=(Ke.a.shape({_id:Ke.a.string.isRequired,name:Ke.a.string.isRequired,type:Ke.a.string.isRequired,proteins:Ke.a.number.isRequired,fat:Ke.a.number.isRequired,carbohydrates:Ke.a.number.isRequired,calories:Ke.a.number.isRequired,price:Ke.a.number.isRequired,image:Ke.a.string.isRequired,image_mobile:Ke.a.string.isRequired,image_large:Ke.a.string.isRequired}),n(42)),Ze=n.n(We),Xe=function(e){var t=e.card,n=e.onClick,c=t._id,a=Object(ce.b)(),r=Object(oe.h)(),i=Object(Ye.a)({type:"items",item:{_id:c},collect:function(e){return{opacity:e.isDragging()?.5:1}}}),s=Object(ie.a)(i,2),o=s[0].opacity,l=s[1];return Object(de.jsxs)("article",{className:"".concat(Ze.a.card),onClick:function(){console.log(r),a({type:B,item:t}),n()},ref:l,style:{opacity:o},children:[t.counter>0&&Object(de.jsx)(se.Counter,{count:t.counter,size:"default"}),Object(de.jsx)("img",{src:t.image,className:"".concat(Ze.a.card__image),alt:t.name}),Object(de.jsxs)("div",{className:"".concat(Ze.a["card__price-wrapper"]," mt-1 mb-1"),children:[Object(de.jsx)("p",{className:"".concat(Ze.a.card__price," text text_type_digits-default mr-1"),children:t.price}),Object(de.jsx)(se.CurrencyIcon,{type:"primary"})]}),Object(de.jsx)("h3",{className:"text text_type_main-default",children:t.name})]})},$e=function(e){var t=e.title,n=e.cards,c=e.onClick,a=Object(oe.h)();return Object(de.jsxs)("section",{className:"".concat(Qe.a.ingredients),children:[Object(de.jsx)("h2",{className:"".concat(Qe.a.ingredients__title," text text_type_main-medium mt-10 mb-6"),children:t}),Object(de.jsx)("ul",{className:"".concat(Qe.a.ingredients__list," ml-4 pr-4"),children:n.map((function(e){return Object(de.jsx)("li",{className:"".concat(Qe.a.ingredients__item),children:Object(de.jsx)(o.b,{className:"".concat(Qe.a.link),to:{pathname:"/ingredients/".concat(e._id),state:{background:a}},children:Object(de.jsx)(Xe,{card:e,onClick:c})})},e._id)}))})]})};var et=function(e){var t=e.onClick,n=Object(ce.c)((function(e){return{ingredients:e.ingredients.ingredients,ingredientsRequest:e.ingredients.ingredientsRequest,ingredientsFailed:e.ingredients.ingredientsFailed}})),a=n.ingredients,r=n.ingredientsRequest,i=Object(c.useState)("buns"),s=Object(ie.a)(i,2),o=s[0],l=s[1],u=Object(c.useRef)(),d=Object(c.useRef)(),j=Object(c.useRef)(),b=Object(c.useRef)(),m=a.filter((function(e){return"bun"===e.type})),p=a.filter((function(e){return"sauce"===e.type})),_=a.filter((function(e){return"main"===e.type})),O=function(){var e=u.current.getBoundingClientRect().top,t=d.current.getBoundingClientRect().top,n=j.current.getBoundingClientRect().top,c=b.current.getBoundingClientRect().top,a=Math.abs(e-t),r=Math.abs(e-n),i=Math.abs(e-c);switch(!0){case a<r&&a<i:l("buns");break;case r<a&&r<i:l("sauces");break;default:l("mains")}};Object(c.useEffect)((function(){if(!r){var e=document.querySelector(".scroll-container");return e.addEventListener("scroll",O),function(){e.removeEventListener("scroll",O)}}}),[r]);var h=Object(c.useMemo)((function(){return r?Object(de.jsx)(Se,{}):Object(de.jsxs)("ul",{className:"".concat(Le.a.ingredients__groups," scroll-container"),ref:u,children:[Object(de.jsx)("li",{className:"".concat(Le.a.ingredients__group),ref:d,children:Object(de.jsx)($e,{title:"\u0411\u0443\u043b\u043a\u0438",cards:m,onClick:t})}),Object(de.jsx)("li",{className:"".concat(Le.a.ingredients__group),ref:j,children:Object(de.jsx)($e,{title:"\u0421\u043e\u0443\u0441\u044b",cards:p,onClick:t})}),Object(de.jsx)("li",{className:"".concat(Le.a.ingredients__group),ref:b,children:Object(de.jsx)($e,{title:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438",cards:_,onClick:t})})]})}),[m,_,r,t,p]);return Object(de.jsxs)("section",{className:"".concat(Le.a.ingredients," mr-10"),children:[Object(de.jsx)(Me,{currentTab:o,onClick:function(e){l(e)}}),h]})},tt=n(103),nt=n.n(tt),ct=n(199),at=n(104),rt=n.n(at),it=function(e){var t=e.id,n=e.index,a=e.moveCard,r=e.item,i=Object(ce.b)(),s=Object(c.useRef)(null),o=Object(ct.a)({accept:"card",collect:function(e){return{handlerId:e.getHandlerId()}},hover:function(e,t){var c;if(s.current){var r=e.index,i=n;if(r!==i){var o=null===(c=s.current)||void 0===c?void 0:c.getBoundingClientRect(),l=(o.bottom-o.top)/2,u=t.getClientOffset().y-o.top;r<i&&u<l||r>i&&u>l||(a(r,i),e.index=i)}}}}),l=Object(ie.a)(o,2),u=l[0].handlerId,d=l[1],j=Object(Ye.a)({type:"card",item:function(){return{id:t,index:n}},collect:function(e){return{isDragging:e.isDragging()}}}),b=Object(ie.a)(j,2),m=b[0].isDragging?.3:1;(0,b[1])(d(s));return Object(de.jsxs)("li",{className:"".concat(rt.a.filling," mb-2"),style:{opacity:m},ref:s,index:n,"data-handler-id":u,children:[Object(de.jsx)(se.DragIcon,{type:"primary"}),Object(de.jsx)(se.ConstructorElement,{text:r.name,price:r.price,thumbnail:r.image_mobile,handleClose:function(){return function(e,t){i({type:w,uuid:e}),i({type:S,id:t,counter:1}),i({type:V,id:t})}(r.uuid,r._id)}})]})},st=n(24),ot=n.n(st),lt=function(e){var t=e.onClick,n=Object(ce.b)(),a=Object(oe.g)(),r=Object(ce.c)((function(e){return{ingredients:e.ingredients.ingredients,ingredientsConstructor:e.burgerConstructor.items,error:e.order.orderError,coast:e.order.coast,user:e.user.userData}})),i=r.ingredients,s=r.ingredientsConstructor,o=r.error,l=r.coast,u=r.user,j=Object(ct.a)({accept:"items",drop:function(e){var t=function(e){return Object(d.a)(Object(d.a)({},e),{},{uuid:m()})}(i.find((function(t){return t._id===e._id})));"bun"===t.type&&s.some((function(e){return"bun"===e.type}))&&(n({type:F}),n({type:A}),n({type:V,id:t._id})),n({type:T,item:t}),n({type:G,id:t._id}),n({type:I,id:t._id,counter:"bun"===t.type?2:1})},collect:function(e){return{isHover:e.isOver()}}}),b=Object(ie.a)(j,2),p=b[0].isHover,_=b[1],h=p?"2px solid lightgreen":"2px solid transparent";Object(c.useEffect)((function(){n({type:M,items:s})}),[s,n]);var x=Object(c.useCallback)((function(e,t){var c=s[e],a=nt()(s,{$splice:[[e,1],[t,0,c]]});n({type:q,data:a})}),[s,n]);return Object(de.jsxs)("section",{className:"mt-3 mb-13",children:[Object(de.jsxs)("ul",{className:"".concat(ot.a.ingredients," mb-10 pr-4 pl-4"),ref:_,style:{border:h},children:[Object(de.jsx)("li",{className:"".concat(ot.a.ingredient," ml-6 mb-2"),children:s.filter((function(e){return"bun"===e.type})).length>0&&s.filter((function(e){return"bun"===e.type})).map((function(e){return Object(de.jsx)(se.ConstructorElement,{type:"top",isLocked:!0,text:"".concat(e.name," (\u0432\u0435\u0440\u0445)"),price:e.price,thumbnail:e.image_mobile},e.uuid)}))}),Object(de.jsx)("li",{className:"".concat(ot.a.ingredient," mb-2"),children:Object(de.jsx)("ul",{className:"".concat(ot.a.fillings),children:s.filter((function(e){return"sauce"===e.type||"main"===e.type})).length>0&&s.filter((function(e){return"sauce"===e.type||"main"===e.type})).map((function(e,t){return Object(de.jsx)(it,{moveCard:x,id:e.uuid,item:e,index:t+1},e.uuid)}))})}),Object(de.jsx)("li",{className:"".concat(ot.a.ingredient," ml-6"),children:s.filter((function(e){return"bun"===e.type})).length>0&&s.filter((function(e){return"bun"===e.type})).map((function(e){return Object(de.jsx)(se.ConstructorElement,{type:"bottom",isLocked:!0,text:"".concat(e.name," (\u043d\u0438\u0437)"),price:e.price,thumbnail:e.image_mobile},e.uuid)}))})]}),o&&Object(de.jsx)("p",{className:"".concat(ot.a.constructor__error," text text_type_main-medium"),children:"\u0427\u0442\u043e\u0431\u044b \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437, \u0441\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u0431\u0443\u0440\u0433\u0435\u0440!"}),Object(de.jsxs)("div",{className:"".concat(ot.a.constructor__wrapper," mb-13"),children:[Object(de.jsxs)("div",{className:"".concat(ot.a.constructor__wrapper," mr-10"),children:[Object(de.jsx)("p",{className:"text text_type_digits-medium",children:l}),Object(de.jsx)(se.CurrencyIcon,{type:"primary"})]}),u?Object(de.jsx)(se.Button,{type:"primary",size:"large",onClick:function(){n({type:P});var e=[];s.forEach((function(t){e.push(t._id)})),e.length>0?(t(),n(function(e){return function(t){t({type:J}),e.length&&O.createOrder(e).then((function(e){t({type:U,number:e.order.number}),t({type:k})})).catch((function(){t({type:L})}))}}(e))):n({type:Q})},children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"}):Object(de.jsx)(se.Button,{type:"primary",size:"large",onClick:function(){return a.push("/login")},children:"\u0412\u043e\u0439\u0442\u0438"})]})]})},ut=n(105),dt=n.n(ut),jt=function(e){var t=e.handleClickOnButton,n=e.handleClickOnCard;return Object(de.jsxs)(de.Fragment,{children:[Object(de.jsx)("h1",{className:"text text_type_main-large mt-10 mb-5",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(de.jsxs)("div",{className:"".concat(dt.a.main__container),children:[Object(de.jsx)(et,{onClick:n}),Object(de.jsx)(lt,{onClick:t})]})]})},bt=n(51),mt=n.n(bt),pt=function(e){var t=e.title,n=e.children,c=e.textButton,a=e.onSubmit;return Object(de.jsxs)("div",{className:mt.a.container,children:[Object(de.jsx)("h2",{className:"text text_type_main-medium mb-6",children:t}),Object(de.jsxs)("form",{className:"".concat(mt.a.form," mb-20"),onSubmit:a,children:[Object(de.jsx)("ul",{className:"".concat(mt.a.inputs),children:n}),Object(de.jsx)(se.Button,{type:"primary",size:"large",children:c})]})]})},_t=n(106),Ot=n.n(_t),ht=function(e){var t=e.text,n=e.path,c=e.textLink;return Object(de.jsxs)("p",{className:"text text_type_main-default text_color_inactive",children:[t," ",Object(de.jsx)(o.b,{className:Ot.a.link,to:n,children:c})]})},xt=n(107),gt=n.n(xt),ft=function(){var e=Object(ce.c)((function(e){return{user:e.user.userData}})).user,t=Object(oe.g)(),n=Object(ce.b)();Object(c.useEffect)((function(){e&&t.push("/")}),[t,e]);var a=qe(),r=a.values,i=a.handleChange;return Object(de.jsxs)("div",{className:gt.a.container,children:[Object(de.jsxs)(pt,{title:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",textButton:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",onSubmit:function(e){var t;e.preventDefault(),n((t=r,function(e){e({type:x}),t&&O.register(t).then((function(t){t.accessToken&&t.refreshToken&&(localStorage.setItem("refresh",t.refreshToken),localStorage.setItem("token",t.accessToken)),e({type:h,data:t.user})})).catch((function(t){return e({type:g,status:t.status})}))}))},children:[Object(de.jsx)("li",{className:"mb-6",children:Object(de.jsx)(se.Input,{onChange:i,value:r.name,name:"name",placeholder:"\u0418\u043c\u044f"})}),Object(de.jsx)("li",{className:"mb-6",children:Object(de.jsx)(se.Input,{onChange:i,placeholder:"E-mail",type:"email",value:r.email,name:"email"})}),Object(de.jsx)("li",{className:"mb-6",children:Object(de.jsx)(se.PasswordInput,{onChange:i,value:r.password,name:"password"})})]}),Object(de.jsx)(ht,{text:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",path:"/login",textLink:"\u0412\u043e\u0439\u0442\u0438"})]})},vt=n(33),Nt=n.n(vt),yt=function(){var e,t=Object(ce.c)((function(e){return{user:e.user.userData,error:e.user.error_401}})),n=t.user,c=t.error,a=Object(oe.h)(),r=qe(),i=r.values,s=r.handleChange,o=r.errors,l=Object(ce.b)();return null!==n&&n!=={}?Object(de.jsx)(oe.a,{to:(null===(e=a.state)||void 0===e?void 0:e.from.pathname)||"/"}):Object(de.jsxs)("div",{className:Nt.a.container,children:[Object(de.jsxs)(pt,{title:"\u0412\u0445\u043e\u0434",textButton:"\u0412\u043e\u0439\u0442\u0438",onSubmit:function(e){var t;e.preventDefault(),l((t=i,function(e){e({type:x}),t&&O.login(t).then((function(t){console.log(t),"email or password are incorrect"===t.message&&e({type:y}),t.accessToken&&t.refreshToken&&(localStorage.setItem("refresh",t.refreshToken),localStorage.setItem("token",t.accessToken)),e({type:h,data:t.user})})).catch((function(t){console.log(t),e({type:g})}))}))},children:[Object(de.jsxs)("li",{className:"".concat(Nt.a.input," mb-6"),children:[Object(de.jsx)(se.Input,{onChange:s,placeholder:"E-mail",type:"email",required:!0,value:i.email||"",name:"email"}),Object(de.jsx)("span",{className:"".concat(Nt.a.error," text text_type_main-small"),children:o.email})]}),Object(de.jsxs)("li",{className:"".concat(Nt.a.input," mb-6"),children:[Object(de.jsx)(se.PasswordInput,{onChange:s,required:!0,value:i.password||"",name:"password"}),Object(de.jsx)("span",{className:"".concat(Nt.a.error," text text_type_main-small"),children:o.password})]})]}),c&&Object(de.jsx)("p",{className:"text text_type_main-medium",children:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(de.jsx)(ht,{text:"\u0412\u044b\xa0\u2014 \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?",path:"/register",textLink:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(de.jsx)(ht,{text:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",path:"/forgot-password",textLink:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})},Et=n(108),Rt=n.n(Et),Ct=function(){var e=Object(oe.g)(),t=Object(ce.b)(),n=qe(),c=n.values,a=n.handleChange,r=n.isValid;return Object(de.jsxs)("div",{className:"".concat(Rt.a.container," mt-25"),children:[Object(de.jsx)(pt,{title:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f",textButton:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c",onSubmit:function(n){n.preventDefault(),r&&O.forgot(c.email).then((function(){console.log("\u041d\u0430 \u0432\u0430\u0448\u0443 \u043f\u043e\u0447\u0442\u0443 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043a\u043e\u0434 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f"),t({type:f}),e.push("/reset-password")})).catch((function(e){return console.log(e)}))},children:Object(de.jsx)("li",{className:"mb-6",children:Object(de.jsx)(se.Input,{onChange:a,required:!0,value:c.email||"",name:"email",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 e-mail"})})}),Object(de.jsx)(ht,{text:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",path:"/login",textLink:"\u0412\u043e\u0439\u0442\u0438"})]})},It=n(109),St=n.n(It),At=function(){var e=Object(oe.g)(),t=Object(ce.b)(),n=qe(),c=n.values,a=n.handleChange,r=n.isValid;return Object(de.jsxs)("div",{className:"".concat(St.a.container," mt-25"),children:[Object(de.jsxs)(pt,{title:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f",textButton:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",onSubmit:function(n){n.preventDefault(),r&&O.reset(c).then((function(){t({type:f}),e.push("/login")})).catch((function(e){return console.log(e)}))},children:[Object(de.jsx)("li",{className:"mb-6",children:Object(de.jsx)(se.PasswordInput,{onChange:a,required:!0,value:c.password||"",name:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"})}),Object(de.jsx)("li",{className:"mb-6",children:Object(de.jsx)(se.Input,{onChange:a,required:!0,value:c.code||"",name:"code",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430"})})]}),Object(de.jsx)(ht,{text:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?",path:"/login",textLink:"\u0412\u043e\u0439\u0442\u0438"})]})},kt=n(18),Tt=n.n(kt),wt=function(){var e=Object(ce.b)();Object(c.useEffect)((function(){e(Y())}),[e]);var t=Object(oe.i)().id,n=Object(ce.c)((function(e){return{ingredients:e.ingredients.ingredients,ingredientsRequest:e.ingredients.ingredientsRequest}})),a=n.ingredients,r=n.ingredientsRequest,i=a.find((function(e){return e._id===t}));return a.length>0?Object(de.jsx)(de.Fragment,{children:r?Object(de.jsx)(Se,{}):Object(de.jsxs)("div",{className:"".concat(Tt.a.content," pt-10 pl-10 pb-15"),children:[Object(de.jsx)("h2",{className:"".concat(Tt.a.title," text text_type_main-large"),children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"}),Object(de.jsx)("img",{className:"".concat(Tt.a.container__image," mb-4"),src:i.image_large,alt:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 ".concat(i.name)}),Object(de.jsx)("p",{className:"text text_type_main-medium mb-8",children:i.name}),Object(de.jsxs)("ul",{className:"".concat(Tt.a.container__attributes," mb-15"),children:[Object(de.jsxs)("li",{className:"".concat(Tt.a.container__attribute),children:[Object(de.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u041a\u0430\u043b\u043e\u0440\u0438\u0438, \u043a\u043a\u0430\u043b"}),Object(de.jsx)("p",{className:"".concat(Tt.a.value," text text_type_digits-default text_color_inactive"),children:i.calories})]}),Object(de.jsxs)("li",{className:"".concat(Tt.a.container__attribute," ml-5"),children:[Object(de.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0411\u0435\u043b\u043a\u0438, \u0433"}),Object(de.jsx)("p",{className:"".concat(Tt.a.value," text text_type_digits-default text_color_inactive"),children:i.proteins})]}),Object(de.jsxs)("li",{className:"".concat(Tt.a.container__attribute," ml-5"),children:[Object(de.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0416\u0438\u0440\u0438, \u0433"}),Object(de.jsx)("p",{className:"".concat(Tt.a.value," text text_type_digits-default text_color_inactive"),children:i.fat})]}),Object(de.jsxs)("li",{className:"".concat(Tt.a.container__attribute," ml-5"),children:[Object(de.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433"}),Object(de.jsx)("p",{className:"".concat(Tt.a.value," text text_type_digits-default text_color_inactive"),children:i.carbohydrates})]})]})]})}):Object(de.jsx)(de.Fragment,{})},Dt=n(77),Ft=n.n(Dt),qt=function(){var e=Object(oe.g)();return Object(de.jsx)("div",{className:"".concat(Ft.a.container," mt-25"),children:Object(de.jsxs)("div",{className:Ft.a.content,children:[Object(de.jsx)("p",{className:"text text_type_digits-large mb-10",children:"404"}),Object(de.jsx)("p",{className:"text text_type_main-medium mb-5",children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0435\u0449\u0435 \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435"}),Object(de.jsx)(se.Button,{type:"primary",size:"large",onClick:function(){e.goBack()},children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043e\u0431\u0440\u0430\u0442\u043d\u043e"})]})})},Bt=n(110),Pt=n.n(Bt),Ut=function(){return Object(de.jsxs)("div",{className:"".concat(Pt.a.container," mt-30"),children:[Object(de.jsx)(De,{}),Object(de.jsxs)(oe.d,{children:[Object(de.jsx)(oe.b,{exact:!0,path:"/profile",children:Object(de.jsx)(Ue,{})}),Object(de.jsx)(oe.b,{exact:!0,path:"/profile/orders",children:Object(de.jsx)(qt,{})})]})]})},Jt=n(52),Lt=n.n(Jt),Gt=n.p+"static/media/done.e036971b.png",Vt=function(e){var t=e.isOpened,n=e.onClose,c=e.modalOrder,a=Object(ce.c)((function(e){return{number:e.order.orderNumber}})).number;return Object(de.jsx)(ve,{isOpened:t,onClose:function(){n()},modalOrder:c,children:Object(de.jsxs)("div",{className:"".concat(Lt.a.container__content," pb-30 pt-20"),children:[Object(de.jsx)("p",{className:"".concat(Lt.a["order-number"]," text text_type_digits-large mb-8"),children:_(a)}),Object(de.jsx)("p",{className:"text text_type_main-medium mb-15",children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(de.jsx)("img",{className:"".concat(Lt.a.container__icon," mb-15"),src:Gt,alt:"\u0418\u043a\u043e\u043d\u043a\u0430"}),Object(de.jsx)("p",{className:"text text_type_main-small ",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(de.jsx)("p",{className:"text text_type_main-small text_color_inactive mt-2 ",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})})},Mt=function(){var e=Object(ce.b)(),t=Object(oe.h)(),n=Object(oe.g)(),r=("PUSH"===n.action||"REPLACE"===n.action)&&t.state&&t.state.background,i=Object(c.useState)(!1),s=Object(ie.a)(i,2),o=s[0],l=s[1],u=a.a.useState(!1),d=Object(ie.a)(u,2),j=d[0],b=d[1],m=a.a.useState(!1),p=Object(ie.a)(m,2),_=p[0],O=p[1],h=function(){O(!1),b(!1),o&&(e({type:z}),e({type:D}),l(!1)),o||n.goBack()};return Object(de.jsxs)(de.Fragment,{children:[Object(de.jsxs)(oe.d,{location:r||t,children:[Object(de.jsx)(oe.b,{exact:!0,path:"/",children:Object(de.jsx)(jt,{handleClickOnCard:function(){b(!0)},handleClickOnButton:function(){l(!0),O(!0)}})}),Object(de.jsx)(oe.b,{path:"/ingredients/:id",children:Object(de.jsx)(wt,{})}),Object(de.jsx)(ke,{component:yt,path:"/login"}),Object(de.jsx)(ke,{path:"/profile",component:Ut}),Object(de.jsx)(ke,{path:"/forgot-password",component:Ct}),Object(de.jsx)(ke,{path:"/reset-password",component:At}),Object(de.jsx)(ke,{component:ft,path:"/register"}),Object(de.jsx)(oe.b,{children:Object(de.jsx)(qt,{})})]}),r&&Object(de.jsx)(oe.b,{path:"/ingredients/:id",children:Object(de.jsx)(Ee,{modalOrder:o,isOpened:j,onClose:h})}),Object(de.jsx)(Vt,{modalOrder:o,isOpened:_,onClose:h})]})},zt=n(78),Qt=n.n(zt);var Yt=function(){var e=Object(ce.c)((function(e){return{user:e.user.userData}})).user,t=Object(ce.b)();return Object(c.useEffect)((function(){localStorage.getItem("token")&&null===e&&t(K())}),[t,e]),Object(c.useEffect)((function(){t(Y())}),[t]),Object(de.jsxs)("div",{className:"".concat(Qt.a.app),children:[Object(de.jsx)(pe,{}),Object(de.jsx)(ae.a,{backend:re.a,children:Object(de.jsx)("main",{className:"".concat(Qt.a.main," pb-13"),children:Object(de.jsx)(Mt,{})})})]})},Ht=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,200)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))},Kt=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):l.c)(Object(l.a)(s.a)),Wt=Object(l.d)(ne,Kt);i.a.render(Object(de.jsx)(a.a.StrictMode,{children:Object(de.jsx)(ce.a,{store:Wt,children:Object(de.jsx)(o.a,{basename:"/react-burger",children:Object(de.jsx)(Yt,{})})})}),document.getElementById("root")),Ht()},22:function(e,t,n){e.exports={container:"NavBar_container__2YGux",item:"NavBar_item__2S2Z-",link:"NavBar_link__2efGK",button:"NavBar_button__2lTGZ",active:"NavBar_active__2KjSD",text:"NavBar_text__2vW3K"}},23:function(e,t,n){e.exports={inputs:"FormEditProfile_inputs__2AaA9",form:"FormEditProfile_form__1Drvp",buttons:"FormEditProfile_buttons__3qNr3",button:"FormEditProfile_button__2hwE3",reset:"FormEditProfile_reset__1EVZA"}},24:function(e,t,n){e.exports={ingredients:"BurgerConstructor_ingredients__3FISq",fillings:"BurgerConstructor_fillings__WRTER",filling:"BurgerConstructor_filling__2Ig8o",constructor__wrapper:"BurgerConstructor_constructor__wrapper__3n8ue"}},30:function(e,t,n){e.exports={header:"AppHeader_header__R1Ju4",container:"AppHeader_container__2k0vk",menu:"AppHeader_menu__2y1mZ",menu__link:"AppHeader_menu__link__1dLOY"}},31:function(e,t,n){e.exports={ingredients:"BurgerIngredients_ingredients__1RZMV",ingredients__groups:"BurgerIngredients_ingredients__groups__3tdwH",constructor__error:"BurgerIngredients_constructor__error__1QUk1"}},32:function(e,t,n){e.exports={ingredients__list:"IngredientsList_ingredients__list__1rBjh",link:"IngredientsList_link__cIBZg"}},33:function(e,t,n){e.exports={container:"Login_container__1J62U",input:"Login_input__1I17R",error:"Login_error__2f3Zh"}},42:function(e,t,n){e.exports={card:"IngredientCard_card__2cvlv","card__price-wrapper":"IngredientCard_card__price-wrapper__3GZwx"}},51:function(e,t,n){e.exports={container:"Form_container__oLrIp",form:"Form_form__2jaCX",inputs:"Form_inputs__3RFok"}},52:function(e,t,n){e.exports={container__content:"OrderDetails_container__content__3rkV3","order-number":"OrderDetails_order-number__zYBVK"}},73:function(e,t,n){e.exports={"modal-body":"Modal_modal-body__3PBCe",close:"Modal_close__2aAfS"}},74:function(e,t,n){e.exports={modal:"ModalOverlay_modal__8zj0c",modal_show:"ModalOverlay_modal_show__3mLdl"}},75:function(e,t,n){e.exports={preloader:"Preloader_preloader__1ihBl",preloader__circle:"Preloader_preloader__circle__WFhxI",spin:"Preloader_spin__J40JB"}},77:function(e,t,n){e.exports={container:"PageNotFound_container__j823f",content:"PageNotFound_content__2xvcP"}},78:function(e,t,n){e.exports={main:"App_main__1h6xZ",main__container:"App_main__container__2Egxi"}}},[[192,1,2]]]);
//# sourceMappingURL=main.b23b43ac.chunk.js.map