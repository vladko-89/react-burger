{"version":3,"sources":["components/HeaderButton/HeaderButton.module.css","components/Tabs/Tabs.module.css","components/FilingConstructor/FilingConstructor.module.css","pages/MainPage/MainPage.module.css","components/ParagraphForm/ParagraphForm.module.css","pages/Register/Register.module.css","pages/ForgotPassword/ForgotPassword.module.css","pages/ResetPassword/ResetPassword.module.css","pages/Profile/Profile.module.css","components/IngredientDetails/IngredientDetails.module.css","pages/IngredientView/IngredientView.module.css","utils/utils.js","utils/api.js","utils/constants.js","systems/actions/userActions.js","systems/actions/ingredientsActions.js","systems/actions/constructorsActions.js","systems/actions/ingredientsInfoActions.js","systems/actions/orderActions.js","systems/actions/index.js","systems/reducers/orderReducer.js","systems/reducers/currentIngredientReducer.js","systems/reducers/constructorReducer.js","systems/reducers/ingredientsReducer.js","systems/reducers/userReducer.js","systems/reducers/index.js","components/HeaderButton/HeaderButton.js","components/AppHeader/AppHeader.js","components/ModalOverlay/ModalOverlay.js","components/Modal/Modal.js","components/IngredientDetails/IngredientDetails.js","components/Preloader/Preloader.js","images/preloader/loading.png","components/ProtectedRoute/ProtectedRoute.js","components/NavBar/NavBar.js","hooks/useForm.js","components/FormEditProfile/FormEditProfile.js","components/Tabs/Tabs.js","utils/data.js","components/IngredientCard/IngredientCard.js","components/IngredientsList/IngredientsList.js","components/BurgerIngredients/BurgerIngredients.js","components/FilingConstructor/FilingConstructor.js","components/BurgerConstructor/BurgerConstructor.js","pages/MainPage/MainPage.js","components/Form/Form.js","components/ParagraphForm/ParagraphForm.js","pages/Register/Register.js","pages/Login/Login.js","pages/ForgotPassword/ForgotPassword.js","pages/ResetPassword/ResetPassword.js","pages/IngredientView/IngredientView.js","pages/PageNotFound/PageNotFound.js","pages/Profile/Profile.js","images/done.png","components/OrderDetails/OrderDetails.js","components/ModalSwitch/ModalSwitch.js","components/App/App.js","reportWebVitals.ts","index.tsx","components/NavBar/NavBar.module.css","components/FormEditProfile/FormEditProfile.module.css","components/BurgerConstructor/BurgerConstructor.module.css","components/AppHeader/AppHeader.module.css","components/BurgerIngredients/BurgerIngredients.module.css","components/IngredientsList/IngredientsList.module.css","pages/Login/Login.module.css","components/IngredientCard/IngredientCard.module.css","components/Form/Form.module.css","components/OrderDetails/OrderDetails.module.css","components/Modal/Modal.module.css","components/ModalOverlay/ModalOverlay.module.css","components/Preloader/Preloader.module.css","pages/PageNotFound/PageNotFound.module.css","components/App/App.module.css"],"names":["module","exports","uuid","s4","Math","floor","random","toString","substring","getResponse","res","ok","json","Promise","reject","status","getStringOrder","num","str","String","i","length","api","this","_base_url","fetch","method","headers","then","data","body","JSON","stringify","name","email","password","token","localStorage","setItem","refreshToken","accessToken","catch","err","console","log","getItem","code","mode","cache","credentials","Authorization","redirect","referrerPolicy","SET_USERS_DATA_SUCCESS","USER_REQUEST","USER_FAILED","REQUEST_PASSWORD_RESET","USER_REQUEST_CLEAN","CLEAR_USER_STORE","ERROR_401","GET_INGREDIENTS_SUCCESS","GET_INGREDIENTS_REQUEST","GET_INGREDIENTS_FAILED","INGREDIENT_COUNT_INCREMENT","INGREDIENT_COUNT_DECREMENT","INGREDIENT_COUNT_CLEAR","INGREDIENT_COUNTS_CLEAR","ADD_INGREDIENT_TO_CONSTRUCTOR","DELETE_INGREDIENT_FROM_CONSTRUCTOR","CLEAR_CONSTRUCTOR","DELETE_BUN_FROM_CONSTRUCTOR","SORT_INGREDIENTS_IN_CONSTRUCTOR","GET_INGREDIENT_INFO","CLEAR_INGREDIENT_INFO","POST_ORDER_SUCCESS","POST_ORDER_REQUEST","POST_ORDER_FAILED","ADD_INGREDIENT_IN_ORDER","DELETE_INGREDIENT_FROM_ORDER","CALCULATE_COAST","CLEAR_ORDER","POST_ORDER_ERROR","getIngredients","dispatch","type","newData","map","item","push","counter","callback","updateTokens","getUserInfo","success","user","message","updateUserInfo","editUserInfo","initialState","coast","orderNumber","ingredientsOrder","orderRequest","orderFailed","orderError","items","ingredients","ingredientsRequest","ingredientsFailed","userData","userRequest","userFailed","requestResetPassword","error_401","rootReducer","combineReducers","state","action","_id","id","burgerConstructor","filter","order","number","reduce","acc","price","currentIngredient","HeaderButton","Component","component","text","active","onSetCurrent","path","to","className","styles","button","value","onClick","AppHeader","React","useState","current","setCurrent","location","useLocation","handleClick","useEffect","pathname","startsWith","header","container","menu","header__navigation","menu__item","BurgerIcon","ListIcon","ProfileIcon","ModalOverlay","isOpened","onClose","children","modal","modal_show","onMouseDown","event","target","currentTarget","modalRoot","document","getElementById","Modal","modalOrder","handleEscapeClose","key","addEventListener","removeEventListener","ReactDOM","createPortal","close","IngredientDetails","card","useSelector","store","content","title","container__image","src","image_large","alt","container__attributes","container__attribute","calories","proteins","fat","carbohydrates","Preloader","preloader","preloader__circle","ProtectedRoute","props","reset","exact","from","NavBar","useDispatch","history","useHistory","link","activeClassName","logOut","removeItem","useFormWithValidation","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","evt","input","validationMessage","closest","checkValidity","FormEditProfile","form","onSubmit","e","preventDefault","inputs","placeholder","required","onChange","icon","minLength","buttons","size","Tabs","currentTab","tabs","PropTypes","shape","string","isRequired","image","image_mobile","IngredientCard","useDrag","collect","monitor","opacity","isDragging","ref","style","count","card__image","card__price","IngredientsList","cards","ingredients__title","ingredients__list","ingredients__item","background","BurgerIngredients","setCurrentTab","containerRef","useRef","bunsRef","saucesRef","mainsRef","buns","sauces","fillings","handleScroll","containerPosition","getBoundingClientRect","top","bunsHeaderPosition","sauceHeaderPosition","mainsHeaderPosition","bunsDiff","abs","sauceDiff","mainsDiff","containerScroll","querySelector","useMemo","ingredients__groups","ingredients__group","FilingConstructor","index","moveCard","useDrop","accept","handlerId","getHandlerId","hover","dragIndex","hoverIndex","hoverBoundingRect","hoverMiddleY","bottom","hoverClientY","getClientOffset","y","drop","drag","filling","thumbnail","handleClose","handleDelete","BurgerConstructor","ingredientsConstructor","error","createId","find","some","isHover","isOver","refTarget","border","dragCard","update","$splice","ingredient","isLocked","constructor__error","constructor__wrapper","forEach","createOrder","postOrder","MainPage","handleClickOnButton","handleClickOnCard","main__container","Form","textButton","ParagraphForm","textLink","Register","register","Login","login","ForgotPassword","forgot","ResetPassword","IngredientView","useParams","PageNotFound","goBack","ProfilePage","OrderDetails","container__content","container__icon","check","ModalSwitch","setModalOrder","modalIngredientsDetailsIsOpened","setModalIngredientsDetailsIsOpened","modalOrderDetailsIsOpened","setModalOrderDetailsIsOpened","handleCloseModal","App","app","DndProvider","backend","HTML5Backend","main","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","createStore","render","StrictMode","basename"],"mappings":"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","file":"static/js/main.b23b43ac.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"HeaderButton_button__GdsEP\",\"button__text\":\"HeaderButton_button__text__3nU9a\",\"button__text_active\":\"HeaderButton_button__text_active__1FbqU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tabs\":\"Tabs_tabs__egITS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filling\":\"FilingConstructor_filling__2vetL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main__container\":\"MainPage_main__container__2iTmv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"ParagraphForm_link__1HSoW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Register_container__1ongM\",\"input\":\"Register_input__2spO4\",\"error\":\"Register_error__31pK-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ForgotPassword_container__1KEGG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ResetPassword_container__qapjy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Profile_container__2azTw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"IngredientDetails_content__1sSOI\",\"container__attributes\":\"IngredientDetails_container__attributes__2fYVW\",\"title\":\"IngredientDetails_title__28rCS\",\"value\":\"IngredientDetails_value__1mPnt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"IngredientView_content__1c6D8\",\"container__attributes\":\"IngredientView_container__attributes__3CK67\",\"value\":\"IngredientView_value__3mHur\"};","export function uuid() {\r\n  function s4() {\r\n    return Math.floor((1 + Math.random()) * 0x10000)\r\n      .toString(16)\r\n      .substring(1);\r\n  }\r\n  return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\r\n    s4() + '-' + s4() + s4() + s4();\r\n}\r\n\r\nexport const getResponse = (res) => {\r\n  return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\r\n}\r\n\r\nexport function getStringOrder(num) {\r\n  let str = String(num);\r\n  for (let i = 1; str.length < 6; i++) {\r\n    str = \"0\" + str;\r\n  }\r\n  return str;\r\n}\r\n\r\n","import { BASE_URL } from './constants';\r\nimport { getResponse} from './utils';\r\n\r\nclass Api {\r\n  constructor() {\r\n    this._base_url = BASE_URL;\r\n  }\r\n\r\n  getIngredients() {\r\n    return fetch(`${this._base_url}/ingredients/`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-type': 'application/json'\r\n      },\r\n    })\r\n    .then(getResponse);\r\n  }\r\n\r\n  createOrder(data) {\r\n    return fetch(`${this._base_url}/orders/`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        \"ingredients\": data\r\n      })\r\n    })\r\n    .then(getResponse)\r\n  }\r\n\r\n  register(data) {\r\n    return fetch(`${this._base_url}/auth/register/`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        \"name\": data.name,\r\n        \"email\": data.email,\r\n        \"password\": data.password\r\n      })\r\n    })\r\n    .then(getResponse)\r\n  }\r\n\r\n  login(data) {\r\n    return fetch(`${this._base_url}/auth/login/`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        \"email\": data.email,\r\n        \"password\": data.password\r\n      })\r\n    })\r\n    .then(getResponse)\r\n  }\r\n\r\n  updateTokens(token) {\r\n    return fetch(`${this._base_url}/auth/token/`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        \"token\": token\r\n      })\r\n    })\r\n    .then(getResponse)\r\n    .then(res => {\r\n      localStorage.setItem('refresh', res.refreshToken);\r\n      localStorage.setItem('token', res.accessToken);\r\n    })\r\n    .catch((err) => console.log(err.status))\r\n  }\r\n\r\n  logOut() {\r\n    return fetch(`${this._base_url}/auth/logout/`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        \"token\": localStorage.getItem('refresh')\r\n      })\r\n    })\r\n    .then(getResponse)\r\n  }\r\n\r\n  forgot(email) {\r\n    return fetch(`${this._base_url}/password-reset/`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        \"email\": email\r\n      })\r\n    })\r\n    .then(getResponse)\r\n  }\r\n\r\n  reset(data) {\r\n    return fetch(`${this._base_url}/password-reset/reset/`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        \"password\": data.password,\r\n        \"token\": data.code\r\n      })\r\n    })\r\n    .then(getResponse)\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._base_url}/auth/user/`, {\r\n      method: 'GET',\r\n      mode: 'cors',\r\n      cache: 'no-cache',\r\n      credentials: 'same-origin',\r\n      headers: {\r\n        'Content-type': 'application/json',\r\n        Authorization: `${localStorage.getItem('token')}`\r\n      },\r\n      redirect: 'follow',\r\n      referrerPolicy: 'no-referrer'\r\n    })\r\n    .then((res) => res.json())\r\n    .then(data => data)\r\n  }\r\n\r\n  editUserInfo(data) {\r\n    return fetch(`${this._base_url}/auth/user/`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        'Content-type': 'application/json',\r\n        Authorization: `${localStorage.getItem('token')}`\r\n      },\r\n      body: JSON.stringify({\r\n        \"password\": data.password,\r\n        \"name\": data.name,\r\n        \"email\": data.email\r\n      })\r\n    })\r\n    .then((res) => res.json())\r\n    .then(data => data)\r\n  }\r\n}\r\n\r\n\r\n\r\nconst api = new Api();\r\n\r\nexport default api;","export const BASE_URL = 'https://norma.nomoreparties.space/api';","export const SET_USERS_DATA_SUCCESS = \"SET_USERS_DATA_SUCCESS\";\r\nexport const USER_REQUEST = 'USER_REQUEST';\r\nexport const USER_FAILED = 'USER_FAILED';\r\nexport const REQUEST_PASSWORD_RESET = 'REQUEST_PASSWORD_RESET';\r\nexport const USER_REQUEST_CLEAN = 'USER_REQUEST_CLEAN';\r\nexport const CLEAR_USER_STORE = 'CLEAR_USER_STORE';\r\nexport const ERROR_401 = 'ERROR_401';\r\n","// Ingredients actions\r\nexport const GET_INGREDIENTS_SUCCESS = 'GET_INGREDIENTS_SUCCESS';\r\nexport const GET_INGREDIENTS_REQUEST = 'GET_INGREDIENTS_REQUEST';\r\nexport const GET_INGREDIENTS_FAILED = 'GET_INGREDIENTS_FAILED';\r\nexport const INGREDIENT_COUNT_INCREMENT = 'INGREDIENT_COUNT_INCREMENT';\r\nexport const INGREDIENT_COUNT_DECREMENT = 'INGREDIENT_COUNT_DECREMENT';\r\nexport const INGREDIENT_COUNT_CLEAR = 'INGREDIENT_COUNT_CLEAR';\r\nexport const INGREDIENT_COUNTS_CLEAR = 'INGREDIENT_COUNTS_CLEAR';","// Constructor actions\r\nexport const ADD_INGREDIENT_TO_CONSTRUCTOR = 'ADD_INGREDIENT_TO_CONSTRUCTOR';\r\nexport const DELETE_INGREDIENT_FROM_CONSTRUCTOR = 'DELETE_INGREDIENT_FROM_CONSTRUCTOR';\r\nexport const CLEAR_CONSTRUCTOR = 'CLEAR_CONSTRUCTOR';\r\nexport const DELETE_BUN_FROM_CONSTRUCTOR = 'DELETE_BUN_FROM_CONSTRUCTOR';\r\nexport const SORT_INGREDIENTS_IN_CONSTRUCTOR = 'SORT_INGREDIENTS_IN_CONSTRUCTOR';","// Ingredients_info actions\r\nexport const GET_INGREDIENT_INFO = 'GET_INGREDIENT_INFO';\r\nexport const CLEAR_INGREDIENT_INFO = 'CLEAR_INGREDIENT_INFO';","// Order actions\r\nexport const POST_ORDER_SUCCESS = 'POST_ORDER_SUCCESS';\r\nexport const POST_ORDER_REQUEST = 'POST_ORDER_REQUEST';\r\nexport const POST_ORDER_FAILED = 'POST_ORDER_FAILED';\r\nexport const ADD_INGREDIENT_IN_ORDER = 'ADD_INGREDIENT_IN_ORDER';\r\nexport const DELETE_INGREDIENT_FROM_ORDER = 'DELETE_INGREDIENT_FROM_ORDER';\r\nexport const CALCULATE_COAST = 'CALCULATE_COAST';\r\nexport const CLEAR_ORDER = 'CLEAR_ORDER';\r\nexport const POST_ORDER_ERROR = 'POST_ORDER_ERROR';","import api from '../../utils/api';\r\nimport {SET_USERS_DATA_SUCCESS, USER_REQUEST, REQUEST_PASSWORD_RESET, USER_FAILED, ERROR_401, CLEAR_USER_STORE, USER_REQUEST_CLEAN} from './userActions';\r\nimport {\r\n  GET_INGREDIENTS_SUCCESS,\r\n  GET_INGREDIENTS_REQUEST,\r\n  GET_INGREDIENTS_FAILED,\r\n  INGREDIENT_COUNT_INCREMENT,\r\n  INGREDIENT_COUNT_DECREMENT,\r\n  INGREDIENT_COUNT_CLEAR,\r\n  INGREDIENT_COUNTS_CLEAR\r\n} from './ingredientsActions';\r\nimport {\r\n  ADD_INGREDIENT_TO_CONSTRUCTOR,\r\n  DELETE_INGREDIENT_FROM_CONSTRUCTOR,\r\n  CLEAR_CONSTRUCTOR,\r\n  DELETE_BUN_FROM_CONSTRUCTOR,\r\n  SORT_INGREDIENTS_IN_CONSTRUCTOR\r\n} from './constructorsActions'\r\nimport {\r\n  GET_INGREDIENT_INFO,\r\n  CLEAR_INGREDIENT_INFO\r\n} from './ingredientsInfoActions';\r\nimport {\r\n  POST_ORDER_SUCCESS,\r\n  POST_ORDER_REQUEST,\r\n  POST_ORDER_FAILED,\r\n  ADD_INGREDIENT_IN_ORDER,\r\n  DELETE_INGREDIENT_FROM_ORDER,\r\n  CALCULATE_COAST,\r\n  CLEAR_ORDER,\r\n  POST_ORDER_ERROR\r\n} from './orderActions';\r\n\r\n\r\nexport function getIngredients() {\r\n  return function(dispatch) {\r\n    dispatch({\r\n      type: GET_INGREDIENTS_REQUEST\r\n    });\r\n    api.getIngredients()\r\n    .then((res) => {\r\n      const newData = [];\r\n      res.data.map(item => (\r\n        newData.push({...item, counter: 0})\r\n        ))\r\n      dispatch({\r\n        type: GET_INGREDIENTS_SUCCESS,\r\n        data: newData\r\n      })\r\n    })\r\n    .catch(() => {\r\n      dispatch({\r\n        type: GET_INGREDIENTS_FAILED\r\n      })\r\n    });\r\n  }\r\n}\r\n\r\nexport function postOrder(data) {\r\n  return function(dispatch) {\r\n    dispatch({\r\n      type: POST_ORDER_REQUEST\r\n    });\r\n    if (data.length) {\r\n      api.createOrder(data)\r\n      .then((res) => {\r\n        dispatch({\r\n          type: POST_ORDER_SUCCESS,\r\n          number: res.order.number\r\n        })\r\n        dispatch({type: INGREDIENT_COUNTS_CLEAR})\r\n    })\r\n      .catch(() => {\r\n        dispatch({\r\n          type: POST_ORDER_FAILED\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nexport function registration(data) {\r\n  //console.log(call);\r\n  return function(dispatch) {\r\n    dispatch({\r\n      type: USER_REQUEST\r\n    });\r\n    if (data) {\r\n      api.register(data)\r\n      .then((res) => {\r\n        if (res.accessToken && res.refreshToken) {\r\n          localStorage.setItem('refresh', res.refreshToken);\r\n          localStorage.setItem('token', res.accessToken);\r\n        }\r\n        dispatch({\r\n          type:SET_USERS_DATA_SUCCESS,\r\n          data: res.user\r\n        });\r\n\r\n      })\r\n      .catch((res) => dispatch({type: USER_FAILED, status: res.status}))\r\n    }\r\n  }\r\n}\r\n\r\nexport function login(data) {\r\n  //console.log(call);\r\n  return function(dispatch) {\r\n    dispatch({\r\n      type: USER_REQUEST\r\n    });\r\n    if (data) {\r\n      api.login(data)\r\n      .then((res) => {\r\n        console.log(res)\r\n        if (res.message === \"email or password are incorrect\") {\r\n          dispatch({type: ERROR_401})\r\n        }\r\n        if (res.accessToken && res.refreshToken) {\r\n          localStorage.setItem('refresh', res.refreshToken);\r\n          localStorage.setItem('token', res.accessToken);\r\n        }\r\n        dispatch({\r\n          type:SET_USERS_DATA_SUCCESS,\r\n          data: res.user\r\n        });\r\n\r\n      })\r\n      .catch((res) => {\r\n        console.log(res);\r\n        dispatch({type: USER_FAILED});\r\n        \r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nexport const refreshToken = (callback) => {\r\n  return function(dispatch) {\r\n    const token = localStorage.getItem('refresh');\r\n    api.updateTokens(token).then(() => dispatch(callback))\r\n  }\r\n}\r\n\r\nexport function getUserInfo() {\r\n  return function(dispatch) {\r\n    dispatch({\r\n      type: USER_REQUEST\r\n    });\r\n    api.getUserInfo()\r\n    .then((res) => {\r\n      if (!res.success) throw res;\r\n      else {dispatch({\r\n        type:SET_USERS_DATA_SUCCESS,\r\n        data: res.user\r\n      });}\r\n    })\r\n    .catch((res) => {\r\n      if (res.message === 'jwt expired') {\r\n        console.log(res)\r\n        dispatch(refreshToken(getUserInfo()))\r\n      }  \r\n    })\r\n  }\r\n}\r\n\r\nexport function updateUserInfo(data) {\r\n  return function(dispatch) {\r\n    dispatch({\r\n      type: USER_REQUEST\r\n    });\r\n    api.editUserInfo(data)\r\n    .then((res) => {\r\n      if (!res.success) throw res;\r\n      else {dispatch({\r\n        type:SET_USERS_DATA_SUCCESS,\r\n        data: res.user\r\n      });}\r\n    })\r\n    .catch((res) => {\r\n      dispatch({type: USER_FAILED});\r\n      console.log(res)\r\n      if (res.message === 'jwt expired') {\r\n        console.log(res)\r\n        dispatch(refreshToken(updateUserInfo(data)))\r\n      }  \r\n    })\r\n  }\r\n}\r\n\r\nexport {\r\n  GET_INGREDIENTS_SUCCESS,\r\n  GET_INGREDIENTS_REQUEST,\r\n  GET_INGREDIENTS_FAILED,\r\n  INGREDIENT_COUNT_INCREMENT,\r\n  INGREDIENT_COUNT_DECREMENT,\r\n  INGREDIENT_COUNT_CLEAR,\r\n  INGREDIENT_COUNTS_CLEAR,\r\n\r\n  SET_USERS_DATA_SUCCESS,\r\n  USER_REQUEST,\r\n  USER_FAILED,\r\n  CLEAR_USER_STORE,\r\n  REQUEST_PASSWORD_RESET,\r\n  USER_REQUEST_CLEAN,\r\n  ERROR_401,\r\n\r\n  ADD_INGREDIENT_TO_CONSTRUCTOR,\r\n  DELETE_INGREDIENT_FROM_CONSTRUCTOR,\r\n  CLEAR_CONSTRUCTOR,\r\n  DELETE_BUN_FROM_CONSTRUCTOR,\r\n  SORT_INGREDIENTS_IN_CONSTRUCTOR,\r\n\r\n  GET_INGREDIENT_INFO,\r\n  CLEAR_INGREDIENT_INFO,\r\n\r\n  POST_ORDER_SUCCESS,\r\n  POST_ORDER_REQUEST,\r\n  POST_ORDER_FAILED,\r\n  ADD_INGREDIENT_IN_ORDER,\r\n  DELETE_INGREDIENT_FROM_ORDER,\r\n  CALCULATE_COAST,\r\n  CLEAR_ORDER,\r\n  POST_ORDER_ERROR\r\n}","import {\r\n  ADD_INGREDIENT_IN_ORDER,\r\n  DELETE_INGREDIENT_FROM_ORDER,\r\n  CALCULATE_COAST,\r\n  CLEAR_ORDER,\r\n  POST_ORDER_SUCCESS,\r\n  POST_ORDER_FAILED,\r\n  POST_ORDER_REQUEST,\r\n  POST_ORDER_ERROR\r\n} from '../actions/index';\r\n\r\nexport const initialState = {\r\n  coast: 0,\r\n  orderNumber: 0,\r\n  ingredientsOrder: [],\r\n  orderRequest: false,\r\n  orderFailed: false,\r\n  orderError: false\r\n}\r\n\r\nexport const orderReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_INGREDIENT_IN_ORDER:\r\n      return {...state, \r\n        ingredientsOrder: [...state.ingredientsOrder, action.id] }\r\n    case DELETE_INGREDIENT_FROM_ORDER:\r\n      return {...state, \r\n        ingredientsOrder: state.ingredientsOrder.filter(item => item.id !== action.id)\r\n      }\r\n    case POST_ORDER_REQUEST:\r\n      return {\r\n        ...state,\r\n        orderRequest: true\r\n      }\r\n      case POST_ORDER_SUCCESS:\r\n        return {\r\n          ...state,\r\n          orderFailed: false,\r\n          orderRequest: false,\r\n          ingredientsOrder: [],\r\n          orderError: false,\r\n          orderNumber: action.number\r\n        }\r\n      case POST_ORDER_FAILED:\r\n        return {\r\n          ...state,\r\n          orderFailed: true,\r\n          orderRequest: false\r\n        }\r\n    case CLEAR_ORDER:\r\n      return initialState;\r\n    case CALCULATE_COAST:\r\n      return {...state, coast: action.items.reduce((acc, item) => item.type === 'bun' ? acc += item.price * 2 : acc += item.price, 0)}\r\n    case POST_ORDER_ERROR:\r\n      return {\r\n        ...state,\r\n        orderError: true\r\n        }\r\n    default:\r\n      return state;\r\n  }\r\n}","import {\r\n  GET_INGREDIENT_INFO,\r\n  CLEAR_INGREDIENT_INFO\r\n} from '../actions/index';\r\n\r\nexport const initialState = {};\r\n\r\nexport const currentIngredientReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GET_INGREDIENT_INFO:\r\n      return action.item;\r\n    case CLEAR_INGREDIENT_INFO:\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n\r\n}","import {\r\n  ADD_INGREDIENT_TO_CONSTRUCTOR,\r\n  DELETE_INGREDIENT_FROM_CONSTRUCTOR,\r\n  DELETE_BUN_FROM_CONSTRUCTOR,\r\n  SORT_INGREDIENTS_IN_CONSTRUCTOR,\r\n  CLEAR_CONSTRUCTOR\r\n} from '../actions/index';\r\n\r\nexport const initialState = {\r\n  items: []\r\n};\r\n\r\nexport const constructorListReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_INGREDIENT_TO_CONSTRUCTOR:\r\n      return {...state, items: [...state.items, action.item]}\r\n    case DELETE_INGREDIENT_FROM_CONSTRUCTOR:\r\n      return {...state, items: state.items.filter( item => item.uuid !== action.uuid)}\r\n    case DELETE_BUN_FROM_CONSTRUCTOR:\r\n      return {...state, items: state.items.filter( item => item.type !== 'bun')}\r\n    case SORT_INGREDIENTS_IN_CONSTRUCTOR:\r\n      return {...state, items: action.data}\r\n    case CLEAR_CONSTRUCTOR:\r\n      return initialState;\r\n    default:\r\n      return state;\r\n  }\r\n}","import {\r\n  GET_INGREDIENTS_SUCCESS,\r\n  GET_INGREDIENTS_REQUEST,\r\n  GET_INGREDIENTS_FAILED,\r\n  INGREDIENT_COUNT_INCREMENT,\r\n  INGREDIENT_COUNT_DECREMENT,\r\n  INGREDIENT_COUNTS_CLEAR,\r\n  INGREDIENT_COUNT_CLEAR\r\n} from '../actions/index';\r\n\r\nconst initialState = {\r\n  ingredients: [],\r\n  ingredientsRequest: false,\r\n  ingredientsFailed: false\r\n};\r\n\r\nexport const ingredientsListReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case GET_INGREDIENTS_REQUEST:\r\n      return {\r\n        ...state,\r\n        ingredientsRequest: true\r\n      }\r\n    case GET_INGREDIENTS_SUCCESS:\r\n      return  {\r\n        ...state,\r\n        ingredientsRequest: false,\r\n        ingredientsFailed: false,\r\n        ingredients: action.data\r\n      }\r\n      case GET_INGREDIENTS_FAILED:\r\n      return  {\r\n        ...state,\r\n        ingredientsRequest: false,\r\n        ingredientsFailed: true,\r\n      }\r\n    case INGREDIENT_COUNT_INCREMENT:\r\n      return {\r\n        ...state,\r\n        ingredients: state.ingredients.map(item => item._id === action.id ? {...item, counter: item.counter + action.counter} : item)\r\n      }\r\n    case INGREDIENT_COUNT_DECREMENT:\r\n      return {\r\n        ...state,\r\n        ingredients: state.ingredients.map(item => item._id === action.id ? {...item, counter: item.counter - action.counter} : item)\r\n      }\r\n      case INGREDIENT_COUNT_CLEAR:\r\n        return {\r\n          ...state,\r\n          ingredients: state.ingredients.map(item => item.type === 'bun' ? {...item, counter: 0} : item)\r\n        }\r\n      case INGREDIENT_COUNTS_CLEAR:\r\n        return {\r\n          ...state,\r\n          ingredients: state.ingredients.map(item => { return {...item, counter: 0}})\r\n        }\r\n    default:\r\n      return state;\r\n  }\r\n}","import {SET_USERS_DATA_SUCCESS, USER_REQUEST, USER_FAILED, REQUEST_PASSWORD_RESET, ERROR_401, CLEAR_USER_STORE, USER_REQUEST_CLEAN} from '../actions';\r\n\r\nconst initialState = {\r\n    userData: null,\r\n    userRequest: false,\r\n    userFailed: false,\r\n    requestResetPassword: false,\r\n    error_401: false\r\n}\r\n\r\nexport const userReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case USER_REQUEST:\r\n            return {\r\n                ...state,\r\n                userRequest: true,\r\n                userData: {},\r\n                requestResetPassword: false,\r\n                error_401: false\r\n            }\r\n        case SET_USERS_DATA_SUCCESS:\r\n            return {\r\n                ...state,\r\n                userData: action.data,\r\n                userRequest: false,\r\n                userFailed: false,\r\n                requestResetPassword: false\r\n            }\r\n        case USER_FAILED:\r\n            return {\r\n                ...state,\r\n                userData: null,\r\n                userFailed: true,\r\n                userRequest: false,\r\n                requestResetPassword:false\r\n            }\r\n        case REQUEST_PASSWORD_RESET: {\r\n            return {\r\n                ...state,\r\n                requestResetPassword: !state.requestResetPassword\r\n            }\r\n        }\r\n        case USER_REQUEST_CLEAN: {\r\n            return {\r\n                ...state,\r\n                userData: null,\r\n                userRequest: false\r\n            }\r\n        }\r\n        case ERROR_401: {\r\n            return {\r\n                ...state,\r\n                error_401: true\r\n            }\r\n        }\r\n        case CLEAR_USER_STORE:\r\n            return initialState;\r\n        default:\r\n            return state;\r\n    }\r\n}","import { combineReducers } from 'redux';\r\nimport { orderReducer } from '../reducers/orderReducer';\r\nimport { currentIngredientReducer } from '../reducers/currentIngredientReducer';\r\nimport { constructorListReducer } from '../reducers/constructorReducer';\r\nimport { ingredientsListReducer } from '../reducers/ingredientsReducer';\r\nimport {userReducer} from './userReducer'\r\n\r\nexport const rootReducer = combineReducers({\r\n  ingredients: ingredientsListReducer,\r\n  burgerConstructor: constructorListReducer,\r\n  order: orderReducer,\r\n  currentIngredient: currentIngredientReducer,\r\n  user: userReducer\r\n});","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Link} from 'react-router-dom';\r\nimport styles from './HeaderButton.module.css';\r\n\r\nfunction HeaderButton({component: Component, text, active, onSetCurrent, path}) {\r\n  return (\r\n    <Link to={path} className={`${styles.button} pt-4 pb-4 pr-5 pl-5`} value={text} onClick={() => onSetCurrent(text)}>\r\n      <Component type={`${active === text ? \"primary\" : \"secondary\"}`} />\r\n      <p className={`text text_type_main-default ml-2 ${active === text ? \"\" : \"text_color_inactive\"}`}>\r\n        {text}\r\n      </p>\r\n    </Link>\r\n  )\r\n}\r\n\r\nHeaderButton.propTypes = {\r\n  path: PropTypes.string.isRequired,\r\n  component: PropTypes.func.isRequired,\r\n  text: PropTypes.string.isRequired,\r\n  active: PropTypes.string.isRequired,\r\n  onSetCurrent: PropTypes.func.isRequired\r\n}\r\n\r\nexport default HeaderButton;","import React, {useEffect} from 'react';\r\nimport { BurgerIcon, ListIcon, Logo, ProfileIcon } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport {useLocation} from 'react-router-dom';\r\nimport HeaderButton from '../HeaderButton/HeaderButton';\r\nimport styles from './AppHeader.module.css';\r\n\r\nfunction AppHeader() {\r\n  const [current, setCurrent] = React.useState('Конструктор')\r\n  const location = useLocation();\r\n\r\nuseEffect(() => {\r\n  if (location.pathname.startsWith('/profile')) {\r\n    setCurrent('Личный кабинет')\r\n  }\r\n  if (location.pathname === '/') {\r\n    setCurrent('Конструктор')\r\n  }\r\n}, [location])\r\n\r\n  function handleClick(str) {\r\n    setCurrent(str);\r\n  }\r\n\r\n  return (\r\n    <header className={`${styles.header} pt-4 pb-4`}>\r\n      <div className={`${styles.container}`}>\r\n        <ul className={`${styles.menu} ${styles.header__navigation}`}>\r\n          <li className={`${styles.menu__item} mr-2`}>\r\n            <HeaderButton \r\n              path='/'\r\n              onSetCurrent={handleClick}\r\n              component={BurgerIcon}\r\n              text='Конструктор'\r\n              active={current} \r\n            />\r\n          </li>\r\n          <li className=\"menu__item\">\r\n            <HeaderButton\r\n              path='/pppo'\r\n              onSetCurrent={handleClick}\r\n              component={ListIcon}\r\n              active={current}\r\n              text='Лента заказов' \r\n            />\r\n          </li>\r\n        </ul>\r\n        <span className=\"mr-30\"><Logo /></span>\r\n        <HeaderButton\r\n          path='/profile'\r\n          onSetCurrent={handleClick}\r\n          active={current}\r\n          component={ProfileIcon}\r\n          text='Личный кабинет'\r\n        />\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default AppHeader;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ModalOverlay.module.css';\r\n\r\nconst ModalOverlay = ({isOpened, onClose, children }) => {\r\n\r\n  \r\n  const handleOverlayClose = (event) => {\r\n    if (event.target === event.currentTarget && isOpened) {\r\n      onClose();\r\n    }\r\n  };\r\n  return (\r\n  <div\r\n    className={`${styles.modal} ${isOpened && styles.modal_show}`}\r\n    onMouseDown={handleOverlayClose}>\r\n    {children}\r\n  </div>\r\n  )\r\n}\r\n\r\nModalOverlay.propTypes = {\r\n  isOpened: PropTypes.bool.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n  children: PropTypes.node.isRequired\r\n}\r\n\r\nexport default ModalOverlay;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './Modal.module.css';\r\nimport ModalOverlay from '../ModalOverlay/ModalOverlay';\r\n\r\n\r\nconst modalRoot = document.getElementById('modal-root');\r\n\r\nconst Modal = ({isOpened, children, onClose, modalOrder=false }) => {\r\n\r\n  React.useEffect(() => {\r\n    if (!isOpened) return;\r\n    const handleEscapeClose = (event) => {\r\n      if (event.key === \"Escape\") {\r\n        onClose();\r\n      }\r\n    };\r\n    document.addEventListener(\"keydown\", handleEscapeClose);\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", handleEscapeClose);\r\n    };\r\n  }, [isOpened, onClose]);\r\n\r\n  return ReactDOM.createPortal(\r\n    <ModalOverlay\r\n      isOpened={isOpened}\r\n      onClose={onClose}\r\n    >\r\n      <div className={`${styles['modal-body']}`}>\r\n        <button type=\"button\" onClick={onClose} className={`${styles.close}`} />\r\n        {children}\r\n      </div>\r\n    </ModalOverlay>, modalRoot\r\n  )\r\n}\r\n\r\nModal.propTypes = {\r\n  modalOrder: PropTypes.bool,\r\n  isOpened: PropTypes.bool.isRequired,\r\n  children: PropTypes.node.isRequired,\r\n  onClose: PropTypes.func.isRequired\r\n\r\n}\r\n\r\nexport default Modal;","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport Modal from '../Modal/Modal';\r\nimport PropTypes from 'prop-types';\r\nimport styles from '../IngredientDetails/IngredientDetails.module.css';\r\n\r\nconst IngredientDetails = ({isOpened, onClose}) => {\r\n\r\n  const { card } = useSelector(store => ({\r\n    card: store.currentIngredient\r\n  }));\r\n\r\n  if (card !== null) {\r\n    return (\r\n      <Modal isOpened={isOpened} onClose={onClose}>\r\n        <div className={`${styles.content} pt-10 pl-10 pb-15`}>\r\n          <h2 className={`${styles.title} text text_type_main-large`}>Детали ингредиента</h2>\r\n          <img className={`${styles.container__image} mb-4`} src={card.image_large} alt={`Изображение ${card.name}`} />\r\n          <p className=\"text text_type_main-medium mb-8\">{card.name}</p>\r\n          <ul className={`${styles.container__attributes} mb-15`}>\r\n            <li className={`${styles.container__attribute}`}>\r\n              <p className=\"text text_type_main-default text_color_inactive\">Калории, ккал</p>\r\n              <p className={`${styles.value} text text_type_digits-default text_color_inactive`}>{card.calories}</p>\r\n            </li>\r\n            <li className={`${styles.container__attribute} ml-5`}>\r\n              <p className=\"text text_type_main-default text_color_inactive\">Белки, г</p>\r\n              <p className={`${styles.value} text text_type_digits-default text_color_inactive`}>{card.proteins}</p>\r\n            </li>\r\n            <li className={`${styles.container__attribute} ml-5`}>\r\n              <p className=\"text text_type_main-default text_color_inactive\">Жири, г</p>\r\n              <p className={`${styles.value} text text_type_digits-default text_color_inactive`}>{card.fat}</p>\r\n            </li>\r\n            <li className={`${styles.container__attribute} ml-5`}>\r\n              <p className=\"text text_type_main-default text_color_inactive\">Углеводы, г</p>\r\n              <p className={`${styles.value} text text_type_digits-default text_color_inactive`}>{card.carbohydrates}</p>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </Modal>\r\n    )\r\n  }\r\n  return (<> </>)\r\n  \r\n}\r\n\r\nIngredientDetails.propTypes = {\r\n  isOpened: PropTypes.bool.isRequired,\r\n  onClose: PropTypes.func.isRequired\r\n}\r\n\r\nexport default IngredientDetails;\r\n","import React from 'react';\nimport styles from './Preloader.module.css';\nimport preloaderImg from '../../images/preloader/loading.png';\n\nfunction Preloader() {\n  return (\n    <section className={`${styles.preloader}`}>\n      <img className={`${styles.preloader__circle}`} src={preloaderImg} alt=\"Preloader\" />\n    </section>\n  );\n}\n\nexport default Preloader;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIkAAACQCAYAAAA8/UiaAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAxxSURBVHgB7Z3PTxvpGcef57UpTqu2Dukm7aneAlJUFXAqIuVQKfAXhNy2p9DDbkwvmNv2BDm1e4qRuoKoh5JT29OSY0/ALYdUMRCtUBcW97apVokTdhs2npmn7zsGAsY/ZjzvDPMOz0eKkpgBD57v++v5icBoIZ8rZqFnf4IcuAkCxogoC4BZ9TVEqABBhQBWBdqPyl/8pQwGgZAg3AeV+m7MEc7PgUSu/ipVBeE62FQuVxYroBn1nk56vyjfZ/pQFJ1AwDIRlDZ2Fh6CASRCJPmBwpgcpbPyz1jbC+Volr/ynK6HMzzwkRQHznoVRyMItIwWzoQhXp0YLZL84Id5otT9juJoRINYhgcLS/Ln3IGgyHuxhH378xgvQcaKJOgorkOlje0HM+ATbQJ5dx9VC53xuArFSJEMDxTm5F+zoAG5N1ja3Fn8ndfrdb53w51UhYXX4rj0CDCMof6pCdD4kOTJY3J44O59L9cODRYmIRSBuHeStdPwV4ghKTCI/NVCTv71N/knwBLTDLzxXt/o2n9fPKm0u+qnl0Y/0//ex+4CIHfl4vXK85dP1iFGGDWTkC1HMUEOQkBQ+1HsziIhvfdJaA5ihjEiUbOI3D9MQlgg5Ib6795q+WXCaYgCeR+/kkd6iBHGiMS2fR5zuwGx2Ozl+jJHeYiIlNaTU3CMEYmI4IOTxq28a7VtwK5hZAJR+Lb7hIwxIqFIRjJm3/Z8mzv1Kkp/TJTIJaeZWM8KI0RS/8Awkg8t7aRHGl9DpMgfGGLtxxATzJhJMvuxGVXnEeOMaUz0GCGS8lZ0pmpSsR+NrxFWIWKe7n76H4gJBs0kGInzq2bRqYdDSBFbQClWjj6TlptVCB0qbzVxsKVqmWWIEDlzxUokaQiJE+F8KO0MhycEN5aDqkRiWdi05tXr6QA9koouQqhgUzGUK6Xq0EBhFaOyXyAuQYzQHirgN5wPpasebbjnRSzyQa2E+aDeWvD+Vov7UKZyKdIVCBs5iDZ2Ft+HGKF1uVFhhE7P/lNw3ene7BpyozjppGDlIASg/bUA9yAkHIC5rTZCfba9uEqRLHk4BzFDW6jA0C+klxShO1c6QlZaNT+40jeKz188WW11mXLlX+67npWzyQ3QiRy9mzuLtztd9pNL19YFiAKExEEAVGgDoVu0zCRqFkChJWBmdrh/qq2PZnN7YUbrSUcK5K0N414urYcXou9wR6/3UbMhdgJRBBaJ8pCiIE+RXZ5Ap5TPucFFLRFW77iWqf9AIFs+QgY3thdKamkCnXRxH1ESeLm5cnH0vvwlx0AbmHEE5OXS0jKS/avq43319ff6RqHbjawSmRy5t7t5MPK914K8d8ONxFogikCnGzWLOBbsQgjI0TquNoudrrsq76HHhln0GJBUn4FwTi5baxAQ98SDcpntMmKNAEt7Vu+9ijxiQ4wJJJLhwbvT8nhSglDA0oa7//DGgVjG5O7vFoLK3nNy7glLmtnpIMUSAVd1iKMRFdqI4DW0UtmIcNkW9nycc22OE0gkI9JuEVqATAztBZ345eCH+TSIm+Quv6hObDn1OpEys4uK3NyXX7/tfRT3maORYDPJwN2XYcZ5CCtzsWzYB5pEAp5uwg0EilPgzXmma5Ec5MAw54CuRRJFjAdRzytgzpxgy02TAB19UJX3I/EgkEgwRIdXNM40xguBRGIThFapB0lEGujDtCZwPMnwYGFXe46sgTaSJBPYwecQeK7t4Z34xVScZwI7+NwYj0uj78spSUuGHQEtb+4s/gGY2KAlniRVyxS1xHjIZWbPuhDCzMQEQYtI1FG1HuNBXW821WnmtZ25Zppf4zygPRB6eGCqKI8m0943s1R1EOaeffFgHphYEkphvUO3fb3wS4tqANIQJze9S99YmXmePeJN6NUXc7li9ofp70aApOs8RVmLrPX/1X5QYWEwDMMwDMMwfui4cT1sDwLiWMK3lSmzG//80FQkbtJ3z5s78gg70SrQWYUJEOGSKT1bmO45JRI36dtPLomcWYQN43Hv2cJ0zwmzvOrA4KjyCn5c/wg5Jw27nXJ4GXM58gIf9I/5I3QLwkQci+czwXGXG33pmvHt2cJ0j7vckKWrz4rq2aKxwgATCzA/+Pu8Q85T0Ahn3iUL4RBp33Cq4zMwiUFgCIX9iUJKImfOBBFG9wdphIu09QcTLiKq7g+MuQh1bAWGaYMA1F9cn0LNEWaiRsgnqj2dEiFetdGZYAhVsx00Y6HFnuEEIXSXw1Y/y5SCcYw36mZ5jTXba1YYucHMWeJ6gVU+r47itapS8udfLmpfvpiz5ShUQFU5DlLcXwlELl2xrI3OBONEVQEplH/6n1HcNM2Pn20/+ASYRHKq9ISaUS5eHn0o7fVyVqGcqvXe/FulOAD/tGdd+O2/v/xUe5VlJj50jJYfGpi6iejkVZpm/Tvc1mjlPat3nVM1GYZhGIZhGIZhGIZhGIZhGIZhtNK50pFbr4RGgEQOibIqyFkQroPdu8qpnOeDliJRvW6lGKbbJW8hwRLacI+rCCSb05WOrhZyqsqA536/bmNmnNncWeAmRgnlRDyJW6fEhhXw05YEQTVJ/uBK369fPX/xr8fAJI4T5bDcOiVdd8ES91WHbWASR/rwH2oPErQaQIpSqoDNODDG4VbcTO8XEfCWijokcB4J6/tL6nBytCfR1UvPkSJRuTzAGMPRNqPx+buVNTPX3OVGVTvS1WwxRcAFbAyj5TbDray5P+2KxAH7JmiCgAvYmIRaZto+M4LJ+sZVGspAF6i5/SsTLpn99vVpkLKuSBCJC9mcU8pbyhDaukaNtIGV67nApLOeCBfFMQ/RJvMS5w5EgtqqOBPXJjGOje2FkkrThRPFh1R+Fd7e3F5Yq1eEds/Ib3a11E8jnOTOFeaikvFstF4dLx/yzk4yUJgFpaZAUPWthde22OGXKI7M8sLKzAfdTziAJRZI8jjhBR7qn5qQJ53PoAtUhaPN7UU2ySeQEw4+5e4n9F+pSAlkz8rcBiaRNA06Uh3Cv2d7aY7ELeTPA23DF9VOV1rcJutlwA8j1JSHEMtyWVp+XbvwkMtPMAzDMAzDMAzDMAzDMAzDHNAxYVwHKl4Fer7NAaRUVH4F0K6Wud2JMYQqElWRQDr/ZptGY7ticeYPE4CAiS2hiWS4v1CSP32644VuAhCMc2WC+BKKSDwL5AiqWuiMc8et7nFDUHve3EEH84RYFQRrZU2VHrSLZHjgo6JKHge/HKQU8tLjn/pnjrOnYpQ1zdICNKJySgGFjxnkGAcphcD4QiX61wdlkyB29ZmmYCWfk88lAFpFYttygxoop5iKwPhCLgWzHS6Qgw8DDT6tIhGkyhYEAbNc48Q76vTobVA6kxAArSKRR90cBCTtpEeA8YRNXvOkguVTaRUJcE5xpBB6TYEJliqjVySEgU8mBA6fbjyStjJlLwIgwkBHYb0i0dCpvGbry0tOOnVzgejYZrdmB2sOrlUkDlDAxtFU5gxAfxwlezelnvQd9DNNgUZUp/LLfaNj2O0GlsTHz18+4ZnEJ8fb9Mr/VtVgI8C/u+14d/8c2Iqt3eKqjrBpEit+d9REsLS5s+g7e5AJH917ElD+F+k7mPH1TYDlPTvj83uYqAjNC+w1VVROi6XN7QUWSIwJPejI9S0Q3UJQxftUqqg6somK3OQuWxY8DHOjeuiz4DCEYEQSmRYlebkncih9p26Kfrcvkr/oqtzpL0VZheldRJ4UqsFhEIkSyfBAYQ46OLzq7VcyM2GGJDSPyKMqSqOWia1fEiMSLwJ5B5aF1TsehlA63oeBkXjaTzdnQb5/agI8C0RB+TBiVzwJ9SjGo2iMnysRIpGOri4eOBV1Pig34Ao83odhAVbGi8Tt9NVVPXt0Y0JBE27AlR8DIsEkGIL5M4kVIIZFY019uSn1FwcjZxNTlhzjRWIHaHigupOCJpJcn9/8mcTpPoZFpR6AJkg61Xx9gzwSm5IZYLxIUnbvKnQJkbMKmhC1C76MdEEDgaLEeJGo0UjdBDtJe8XmzoOA8S+N94Elr9cHDQSKkkQcgWtpVaDYbxwnzoFmUlbvPfDQpcMmnDQpuEpr0NFZ8fXXT6qXL11/Ls3HE16udz3POwufgGa+qj7e/9mPfvMPR9gZeS83Tr+vmvFw8tnOgrYZLAoS5btxa+MLut86PCG6CtYqVKKnJkYQnbw8RlWJRFn1jgEDSZwXWFEPT4A7qIxb8miqOoOpUfyNlZnnCtb++T84ZjUH58Jk0wAAAABJRU5ErkJggg==\"","import React from 'react';\r\nimport { Route, Redirect, useLocation } from \"react-router-dom\";\r\nimport { useSelector } from 'react-redux';\r\nimport Preloader from '../Preloader/Preloader'\r\n\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n    const { user, reset, userRequest } = useSelector(store => ({\r\n        user: store.user.userData,\r\n        reset: store.user.requestResetPassword,\r\n        userRequest: store.user.userRequest\r\n    }));\r\n    const location = useLocation();\r\n\r\n    return (<>\r\n        {userRequest ? <Preloader /> :\r\n            <Route path={props.path} exact>\r\n                { props.path === '/login' ? \r\n                \r\n                (\r\n                    () => user === null ? <Component {...props} /> : <Redirect to={location.state?.from.pathname || '/'} />\r\n                )\r\n                \r\n                : props.path === '/register' ? \r\n                \r\n                    (\r\n                        () => user === null ? <Component {...props} /> : <Redirect to=\"/\" />\r\n                    )\r\n\r\n                : props.path === '/reset-password' ? \r\n                    (\r\n                        () => reset ? <Component {...props} /> : <Redirect to=\"/forgot-password\" />\r\n                    )\r\n                    \r\n                : props.path === '/forgot-password' ? \r\n                    (\r\n                        () => !user ? <Component {...props} /> : <Redirect to=\"/\" />\r\n                    )\r\n                :\r\n                    (\r\n                        () => localStorage.getItem('token') ? <Component {...props} /> : <Redirect to={{pathname: '/login', state: {from: location}}} />\r\n                    )\r\n                }\r\n            </Route>} </>\r\n    )\r\n}\r\n\r\nexport default ProtectedRoute;","import React from 'react';\r\nimport { NavLink, useHistory, useLocation } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport styles from './NavBar.module.css';\r\nimport api from '../../utils/api';\r\nimport {CLEAR_USER_STORE} from '../../systems/actions'\r\n\r\nconst NavBar = () => {\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n\r\n    const handleExit = () => {\r\n        api.logOut().then(() => {\r\n            localStorage.removeItem('refresh')\r\n            localStorage.removeItem('token')\r\n            dispatch({type: CLEAR_USER_STORE})\r\n            history.push('/login')\r\n        })\r\n    }\r\n    return (\r\n        <div className=\"mr-15\">\r\n            <ul className={`${styles.container} mt-0 mb-20`}>\r\n                <li className={`${styles.item}`}>\r\n                    <NavLink to='/profile' className={`${styles.link} text text_type_main-medium text_color_inactive pt-5 pb-5`} activeClassName={`${location.pathname === '/profile' && styles.active}`}>Профиль</NavLink>\r\n                </li>\r\n                <li className={styles.item}>\r\n                    <NavLink to='/profile/orders' className={`${styles.link} text text_type_main-medium text_color_inactive pt-5 pb-5`} activeClassName={styles.active}>История заказов</NavLink>\r\n                </li>\r\n                <li className={styles.item}>\r\n                    <button  className={`${styles.button} text text_type_main-medium text_color_inactive pt-5 pb-5`} onClick={handleExit}>Выход</button>\r\n                </li>\r\n            </ul>\r\n        {location.pathname === '/profile' \r\n        ?\r\n            <p className={`${styles.text} text text_type_main-default text_color_inactive`}>В этом разделе вы можете изменить свои персональные данные</p>\r\n        :\r\n            <></>\r\n        \r\n    }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NavBar;","import React, { useCallback } from \"react\";\r\n\r\n\r\nexport function useFormWithValidation() {\r\n    const [values, setValues] = React.useState({});\r\n    const [errors, setErrors] = React.useState({});\r\n    const [isValid, setIsValid] = React.useState(false);\r\n\r\n    const handleChange = (evt) => {\r\n        const input = evt.target;\r\n        const value = input.value;\r\n        const name = input.name;\r\n        setValues({ ...values, [name]: value });\r\n        setErrors({ ...errors, [name]: input.validationMessage });\r\n        setIsValid(input.closest(\"form\").checkValidity());\r\n    };\r\n\r\n    const resetForm = useCallback(\r\n        \r\n        (newValues = {}, newErrors = {}, newIsValid = false) => {\r\n        setValues(newValues);\r\n        setErrors(newErrors);\r\n        setIsValid(newIsValid);\r\n        },\r\n        [setValues, setErrors, setIsValid]\r\n    );\r\n\r\n    return {\r\n        values, handleChange, resetForm, errors,\r\n        isValid, setIsValid, setValues };\r\n}","import React, {useEffect} from 'react';\r\nimport {useSelector, useDispatch} from 'react-redux';\r\nimport { Input, Button } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport {useFormWithValidation} from '../../hooks/useForm';\r\nimport { updateUserInfo } from '../../systems/actions'\r\nimport styles from './FormEditProfile.module.css';\r\n\r\n\r\nconst FormEditProfile = () => {\r\n    const {user} = useSelector(store => ({\r\n        user: store.user.userData\r\n    }))\r\nconst dispatch = useDispatch();\r\n    const {values, handleChange, isValid, setValues} = useFormWithValidation();\r\n\r\n    function submitForm(e) {\r\n        e.preventDefault();\r\n        dispatch(updateUserInfo(values))\r\n    }\r\n\r\n    function resetForm() {\r\n        setValues({\r\n            name: user.name,\r\n            email: user.email,\r\n            password: '***'\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (user) {\r\n            setValues({\r\n                name: user.name,\r\n                email: user.email,\r\n                password: '***'\r\n            })\r\n        }\r\n    }, [user, setValues])\r\n    return (\r\n        <>\r\n            <form className={`${styles.form} mb-20 mt-0`} onSubmit={submitForm}>\r\n                <ul className={`${styles.inputs} mt-0`}>\r\n                    <li className={`${styles.input} mb-6`}>\r\n                        <Input\r\n                            type={'text'}\r\n                            placeholder={'Имя'}\r\n                            name={'name'}\r\n                            required\r\n                            onChange={handleChange}\r\n                            value={values.name || ''}\r\n                            icon={'EditIcon'}\r\n                        />\r\n                    </li>\r\n                    <li className={`${styles.input} mb-6`}>\r\n                        <Input\r\n                            type={'email'}\r\n                            required\r\n                            placeholder={'Логин'}\r\n                            name={'email'}\r\n                            onChange={handleChange}\r\n                            value={values.email || ''}\r\n                            icon={'EditIcon'}\r\n                        />\r\n                    </li>\r\n                    <li className={`${styles.input}`}>\r\n                        <Input\r\n                            type={'password'}\r\n                            required\r\n                            minLength=\"6\"\r\n                            placeholder={'Пароль'}\r\n                            name={'password'}\r\n                            onChange={handleChange}\r\n                            value={values.password || ''}\r\n                            icon={'EditIcon'}\r\n                        />\r\n                    </li>\r\n                </ul>\r\n                { isValid\r\n                &&\r\n                \r\n                    <div className={`${styles.buttons}`}>\r\n                        <button className={`${styles.reset} text text_type_main-small pr-3 pl-7`} type='button' onClick={resetForm}>Отменить</button>\r\n                        <Button className={styles.button} type=\"primary\" size=\"large\">Сохранить</Button>\r\n                    </div>\r\n                }\r\n            </form>\r\n        </>\r\n    )\r\n}\r\nexport default FormEditProfile;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Tab } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport styles from './Tabs.module.css';\r\n\r\nconst Tabs = ({currentTab, onClick}) => {  \r\n\r\n  return (\r\n    <div className={`${styles.tabs}`}>\r\n      <Tab value='buns' active={currentTab === 'buns'} onClick={(value) => onClick(value)}>\r\n        Булки\r\n      </Tab>\r\n      <Tab value='sauces' active={currentTab === 'sauces'} onClick={(value) => onClick(value)}>\r\n        Соусы\r\n      </Tab>\r\n      <Tab value='mains' active={currentTab === 'mains'} onClick={(value) => onClick(value)}>\r\n        Начинки\r\n      </Tab>\r\n    </div>\r\n  );\r\n}\r\n\r\nTabs.propTypes = {\r\n  currentTab: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired\r\n}\r\n\r\nexport default Tabs;\r\n","import PropTypes from 'prop-types';\r\n\r\nexport const data = [\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9b1\",\r\n    \"name\":\"Краторная булка N-200i\",\r\n    \"type\":\"bun\",\r\n    \"proteins\":80,\r\n    \"fat\":24,\r\n    \"carbohydrates\":53,\r\n    \"calories\":420,\r\n    \"price\":1255,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/bun-02.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/bun-02-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/bun-02-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9b5\",\r\n    \"name\":\"Говяжий метеорит (отбивная)\",\r\n    \"type\":\"main\",\r\n    \"proteins\":800,\r\n    \"fat\":800,\r\n    \"carbohydrates\":300,\r\n    \"calories\":2674,\r\n    \"price\":3000,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/meat-04.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/meat-04-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/meat-04-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9b6\",\r\n    \"name\":\"Биокотлета из марсианской Магнолии\",\r\n    \"type\":\"main\",\r\n    \"proteins\":420,\r\n    \"fat\":142,\r\n    \"carbohydrates\":242,\r\n    \"calories\":4242,\r\n    \"price\":424,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/meat-01.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/meat-01-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/meat-01-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9b7\",\r\n    \"name\":\"Соус Spicy-X\",\r\n    \"type\":\"sauce\",\r\n    \"proteins\":30,\r\n    \"fat\":20,\r\n    \"carbohydrates\":40,\r\n    \"calories\":30,\r\n    \"price\":90,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/sauce-02.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/sauce-02-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/sauce-02-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9b4\",\r\n    \"name\":\"Мясо бессмертных моллюсков Protostomia\",\r\n    \"type\":\"main\",\r\n    \"proteins\":433,\r\n    \"fat\":244,\r\n    \"carbohydrates\":33,\r\n    \"calories\":420,\r\n    \"price\":1337,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/meat-02.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/meat-02-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/meat-02-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9b9\",\r\n    \"name\":\"Соус традиционный галактический\",\r\n    \"type\":\"sauce\",\r\n    \"proteins\":42,\r\n    \"fat\":24,\r\n    \"carbohydrates\":42,\r\n    \"calories\":99,\r\n    \"price\":15,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/sauce-03.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/sauce-03-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/sauce-03-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9b8\",\r\n    \"name\":\"Соус фирменный Space Sauce\",\r\n    \"type\":\"sauce\",\r\n    \"proteins\":50,\r\n    \"fat\":22,\r\n    \"carbohydrates\":11,\r\n    \"calories\":14,\r\n    \"price\":80,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/sauce-04.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/sauce-04-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/sauce-04-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9bc\",\r\n    \"name\":\"Плоды Фалленианского дерева\",\r\n    \"type\":\"main\",\r\n    \"proteins\":20,\r\n    \"fat\":5,\r\n    \"carbohydrates\":55,\r\n    \"calories\":77,\r\n    \"price\":874,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/sp_1.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/sp_1-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/sp_1-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9bb\",\r\n    \"name\":\"Хрустящие минеральные кольца\",\r\n    \"type\":\"main\",\r\n    \"proteins\":808,\r\n    \"fat\":689,\r\n    \"carbohydrates\":609,\r\n    \"calories\":986,\r\n    \"price\":300,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/mineral_rings.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/mineral_rings-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/mineral_rings-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9ba\",\r\n    \"name\":\"Соус с шипами Антарианского плоскоходца\",\r\n    \"type\":\"sauce\",\r\n    \"proteins\":101,\r\n    \"fat\":99,\r\n    \"carbohydrates\":100,\r\n    \"calories\":100,\r\n    \"price\":88,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/sauce-01.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/sauce-01-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/sauce-01-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9bd\",\r\n    \"name\":\"Кристаллы марсианских альфа-сахаридов\",\r\n    \"type\":\"main\",\r\n    \"proteins\":234,\r\n    \"fat\":432,\r\n    \"carbohydrates\":111,\r\n    \"calories\":189,\r\n    \"price\":762,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/core.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/core-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/core-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9be\",\r\n    \"name\":\"Мини-салат Экзо-Плантаго\",\r\n    \"type\":\"main\",\r\n    \"proteins\":1,\r\n    \"fat\":2,\r\n    \"carbohydrates\":3,\r\n    \"calories\":6,\r\n    \"price\":4400,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/salad.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/salad-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/salad-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9b3\",\r\n    \"name\":\"Филе Люминесцентного тетраодонтимформа\",\r\n    \"type\":\"main\",\r\n    \"proteins\":44,\r\n    \"fat\":26,\r\n    \"carbohydrates\":85,\r\n    \"calories\":643,\r\n    \"price\":988,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/meat-03.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/meat-03-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/meat-03-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9bf\",\r\n    \"name\":\"Сыр с астероидной плесенью\",\r\n    \"type\":\"main\",\r\n    \"proteins\":84,\r\n    \"fat\":48,\r\n    \"carbohydrates\":420,\r\n    \"calories\":3377,\r\n    \"price\":4142,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/cheese.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/cheese-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/cheese-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9b2\",\r\n    \"name\":\"Флюоресцентная булка R2-D3\",\r\n    \"type\":\"bun\",\r\n    \"proteins\":44,\r\n    \"fat\":26,\r\n    \"carbohydrates\":85,\r\n    \"calories\":643,\r\n    \"price\":988,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/bun-01.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/bun-01-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/bun-01-large.png\",\r\n    \"__v\":0\r\n  }\r\n]\r\n\r\nexport const dataIngredients = [\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9b1\",\r\n    \"name\":\"Краторная булка N-200i\",\r\n    \"type\":\"bun\",\r\n    \"proteins\":80,\r\n    \"fat\":24,\r\n    \"carbohydrates\":53,\r\n    \"calories\":420,\r\n    \"price\":1255,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/bun-02.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/bun-02-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/bun-02-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9ba\",\r\n    \"name\":\"Соус с шипами Антарианского плоскоходца\",\r\n    \"type\":\"sauce\",\r\n    \"proteins\":101,\r\n    \"fat\":99,\r\n    \"carbohydrates\":100,\r\n    \"calories\":100,\r\n    \"price\":88,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/sauce-01.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/sauce-01-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/sauce-01-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9b6\",\r\n    \"name\":\"Биокотлета из марсианской Магнолии\",\r\n    \"type\":\"main\",\r\n    \"proteins\":420,\r\n    \"fat\":142,\r\n    \"carbohydrates\":242,\r\n    \"calories\":4242,\r\n    \"price\":424,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/meat-01.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/meat-01-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/meat-01-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9bf\",\r\n    \"name\":\"Сыр с астероидной плесенью\",\r\n    \"type\":\"main\",\r\n    \"proteins\":84,\r\n    \"fat\":48,\r\n    \"carbohydrates\":420,\r\n    \"calories\":3377,\r\n    \"price\":4142,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/cheese.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/cheese-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/cheese-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9bb\",\r\n    \"name\":\"Хрустящие минеральные кольца\",\r\n    \"type\":\"main\",\r\n    \"proteins\":808,\r\n    \"fat\":689,\r\n    \"carbohydrates\":609,\r\n    \"calories\":986,\r\n    \"price\":300,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/mineral_rings.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/mineral_rings-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/mineral_rings-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9bb\",\r\n    \"name\":\"Хрустящие минеральные кольца\",\r\n    \"type\":\"main\",\r\n    \"proteins\":808,\r\n    \"fat\":689,\r\n    \"carbohydrates\":609,\r\n    \"calories\":986,\r\n    \"price\":300,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/mineral_rings.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/mineral_rings-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/mineral_rings-large.png\",\r\n    \"__v\":0\r\n  },\r\n  {\r\n    \"_id\":\"60666c42cc7b410027a1a9b1\",\r\n    \"name\":\"Краторная булка N-200i\",\r\n    \"type\":\"bun\",\r\n    \"proteins\":80,\r\n    \"fat\":24,\r\n    \"carbohydrates\":53,\r\n    \"calories\":420,\r\n    \"price\":1255,\r\n    \"image\":\"https://code.s3.yandex.net/react/code/bun-02.png\",\r\n    \"image_mobile\":\"https://code.s3.yandex.net/react/code/bun-02-mobile.png\",\r\n    \"image_large\":\"https://code.s3.yandex.net/react/code/bun-02-large.png\",\r\n    \"__v\":0\r\n  },\r\n]\r\n\r\nexport const card = PropTypes.shape({\r\n  _id: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  type: PropTypes.string.isRequired,\r\n  proteins: PropTypes.number.isRequired,\r\n  fat: PropTypes.number.isRequired,\r\n  carbohydrates: PropTypes.number.isRequired,\r\n  calories: PropTypes.number.isRequired,\r\n  price: PropTypes.number.isRequired,\r\n  image: PropTypes.string.isRequired,\r\n  image_mobile: PropTypes.string.isRequired,\r\n  image_large: PropTypes.string.isRequired\r\n});\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useLocation } from 'react-router-dom'\r\nimport { useDispatch } from 'react-redux';\r\nimport { useDrag } from \"react-dnd\";\r\nimport { Counter, CurrencyIcon  } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport { card } from '../../utils/data';\r\nimport { GET_INGREDIENT_INFO } from '../../systems/actions/index'\r\nimport styles from './IngredientCard.module.css';\r\n\r\nconst IngredientCard = ({card, onClick}) => {\r\n  const { _id } = card;\r\n  const dispatch = useDispatch();\r\n  const location = useLocation();\r\n\r\n  const handleClick = () => {\r\n    console.log(location)\r\n    dispatch({\r\n      type: GET_INGREDIENT_INFO,\r\n      item: card\r\n    })\r\n    onClick();\r\n  }\r\n\r\n  const [{ opacity }, ref] = useDrag({\r\n    type: 'items',\r\n    item: { _id },\r\n    collect: monitor => ({\r\n      opacity: monitor.isDragging() ? 0.5 : 1\r\n    })\r\n  });\r\n\r\n  return (\r\n    \r\n      <article\r\n        className={`${styles.card}`}\r\n        onClick={handleClick}\r\n        ref={ref}\r\n        style={{ opacity }}\r\n        >\r\n        {card.counter > 0 && <Counter count={card.counter} size=\"default\" />}\r\n        <img src={card.image} className={`${styles.card__image}`} alt={card.name} />\r\n        <div className={`${styles[\"card__price-wrapper\"]} mt-1 mb-1`}>\r\n          <p className={`${styles.card__price} text text_type_digits-default mr-1`}>{card.price}</p>\r\n          <CurrencyIcon type=\"primary\"/>\r\n        </div>\r\n        <h3 className=\"text text_type_main-default\">{card.name}</h3>\r\n      </article>\r\n\r\n  )\r\n}\r\n\r\nIngredientCard.propTypes = {\r\n  card: card.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default IngredientCard;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Link, useLocation} from 'react-router-dom';\r\nimport styles from './IngredientsList.module.css';\r\nimport IngredientCard from '../IngredientCard/IngredientCard'\r\nimport { card } from '../../utils/data';\r\n\r\nconst IngredientsList = ({title, cards, onClick}) => {\r\n  const location = useLocation();\r\n  return (\r\n    <section className={`${styles.ingredients}`}>\r\n      <h2 className={`${styles.ingredients__title} text text_type_main-medium mt-10 mb-6`}>{title}</h2>\r\n      <ul className={`${styles.ingredients__list} ml-4 pr-4`}>\r\n      {cards.map((card) => (\r\n        <li className={`${styles.ingredients__item}`} key={card._id}>\r\n          <Link className={`${styles.link}`} to={{pathname: `/ingredients/${card._id}`, state: { background: location }}} >\r\n            <IngredientCard\r\n              card={card}\r\n              onClick={onClick}\r\n            />\r\n          </Link>\r\n            \r\n        </li>\r\n      ))}\r\n      </ul>\r\n    </section>\r\n    \r\n  )\r\n}\r\n\r\nIngredientsList.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  cards: PropTypes.arrayOf(card).isRequired,\r\n  onClick: PropTypes.func.isRequired\r\n}\r\n\r\nexport default IngredientsList;","import React, { useMemo, useRef, useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useSelector } from 'react-redux';\r\nimport styles from \"./BurgerIngredients.module.css\";\r\nimport Preloader from '../Preloader/Preloader';\r\nimport Tabs from '../Tabs/Tabs';\r\n\r\nimport IngredientsList from '../IngredientsList/IngredientsList';\r\n\r\nfunction BurgerIngredients({ onClick }) {\r\n  const { ingredients, ingredientsRequest } = useSelector(store => ({\r\n    ingredients: store.ingredients.ingredients,\r\n    ingredientsRequest: store.ingredients.ingredientsRequest,\r\n    ingredientsFailed: store.ingredients.ingredientsFailed\r\n  }));\r\n\r\nconst [currentTab, setCurrentTab] = useState('buns');\r\n\r\nfunction handleClick(str) {\r\n  setCurrentTab(str);\r\n}\r\n\r\n  const containerRef = useRef();\r\n  const bunsRef = useRef();\r\n  const saucesRef = useRef();\r\n  const mainsRef = useRef();\r\n\r\n  const buns = ingredients.filter(item => item.type === \"bun\");\r\n  const sauces = ingredients.filter(item => item.type === \"sauce\");\r\n  const fillings = ingredients.filter(item => item.type === \"main\");\r\n\r\n  const handleScroll = () => {     \r\n    const containerPosition = containerRef.current.getBoundingClientRect().top;     \r\n    const bunsHeaderPosition = bunsRef.current.getBoundingClientRect().top;     \r\n    const sauceHeaderPosition = saucesRef.current.getBoundingClientRect().top;     \r\n    const mainsHeaderPosition = mainsRef.current.getBoundingClientRect().top;     \r\n    const bunsDiff = Math.abs(containerPosition - bunsHeaderPosition);     \r\n    const sauceDiff = Math.abs(containerPosition - sauceHeaderPosition);     \r\n    const mainsDiff = Math.abs(containerPosition - mainsHeaderPosition);      \r\n    switch (true) {       \r\n      case (bunsDiff < sauceDiff) && (bunsDiff < mainsDiff): {         \r\n        setCurrentTab('buns'); break;       }       \r\n      case (sauceDiff < bunsDiff) && (sauceDiff < mainsDiff): {         \r\n        setCurrentTab('sauces'); break;       }       \r\n      default: {         \r\n        setCurrentTab('mains');       }     \r\n    }   \r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    if (!ingredientsRequest) {\r\n      const containerScroll = document.querySelector(`.scroll-container`);\r\n    \r\n    containerScroll.addEventListener('scroll', handleScroll);\r\n    return () => {\r\n      containerScroll.removeEventListener('scroll', handleScroll);\r\n    }\r\n    }\r\n    \r\n  }, [ingredientsRequest])\r\n\r\n  const content = useMemo(() => {\r\n    return ingredientsRequest ? (\r\n      <Preloader />\r\n    ) : (\r\n      <ul className={`${styles.ingredients__groups} scroll-container`} ref={containerRef}>\r\n        <li className={`${styles.ingredients__group}`} ref={bunsRef}>\r\n          <IngredientsList\r\n            title=\"Булки\"\r\n            cards={buns}\r\n            onClick={onClick}\r\n            />\r\n        </li>\r\n        <li className={`${styles.ingredients__group}`} ref={saucesRef}>\r\n          <IngredientsList\r\n            title=\"Соусы\"\r\n            cards={sauces}\r\n            onClick={onClick}\r\n          />\r\n        </li>\r\n        <li className={`${styles.ingredients__group}`} ref={mainsRef}>\r\n          <IngredientsList\r\n            title=\"Начинки\"\r\n            cards={fillings}\r\n            onClick={onClick}\r\n          />\r\n        </li>\r\n      </ul>\r\n      )\r\n  }, [buns, fillings, ingredientsRequest, onClick, sauces]\r\n);\r\n\r\n  return (\r\n    <section className={`${styles.ingredients} mr-10`}>\r\n      <Tabs  currentTab={currentTab} onClick={handleClick}/>\r\n      {content}\r\n    </section>\r\n  )\r\n}\r\n\r\nBurgerIngredients.propTypes = {\r\n  onClick: PropTypes.func.isRequired\r\n}\r\n\r\nexport default BurgerIngredients;\r\n","import React, { useRef } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\nimport { useDrop, useDrag } from \"react-dnd\";\r\nimport { ConstructorElement, DragIcon } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport { DELETE_INGREDIENT_FROM_CONSTRUCTOR,\r\n  DELETE_INGREDIENT_FROM_ORDER,\r\n  INGREDIENT_COUNT_DECREMENT\r\n  } from '../../systems/actions/index';\r\nimport { card } from '../../utils/data';\r\nimport styles from './FilingConstructor.module.css';\r\n\r\nconst  FilingConstructor = ({id, index, moveCard, item}) => {\r\n  const dispatch = useDispatch();\r\n  const ref = useRef(null);\r\n    const [{ handlerId }, drop] = useDrop({\r\n        accept: 'card',\r\n        collect(monitor) {\r\n            return {\r\n                handlerId: monitor.getHandlerId(),\r\n            };\r\n        },\r\n        hover(item, monitor) {\r\n            if (!ref.current) {\r\n                return;\r\n            }\r\n            const dragIndex = item.index;\r\n            const hoverIndex = index;\r\n            if (dragIndex === hoverIndex) {\r\n                return;\r\n            }\r\n            const hoverBoundingRect = ref.current?.getBoundingClientRect();\r\n            const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\r\n            const clientOffset = monitor.getClientOffset();\r\n            const hoverClientY = clientOffset.y - hoverBoundingRect.top;\r\n            if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\r\n              return;\r\n            }\r\n            if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\r\n              return;\r\n            }\r\n            moveCard(dragIndex, hoverIndex);\r\n            item.index = hoverIndex;\r\n        },\r\n    });\r\n    const [{ isDragging }, drag] = useDrag({\r\n        type: 'card',\r\n        item: () => {\r\n            return { id, index };\r\n        },\r\n        collect: (monitor) => ({\r\n            isDragging: monitor.isDragging(),\r\n        }),\r\n    });\r\n    const opacity = isDragging ? 0.3 : 1;\r\n    drag(drop(ref));\r\n\r\n    const handleDelete = (uuid, id) => {\r\n      dispatch({\r\n        type: DELETE_INGREDIENT_FROM_CONSTRUCTOR,\r\n        uuid: uuid\r\n      })\r\n      dispatch({\r\n        type: INGREDIENT_COUNT_DECREMENT,\r\n        id: id,\r\n        counter: 1\r\n      })\r\n      dispatch({type: DELETE_INGREDIENT_FROM_ORDER, id: id})\r\n    }\r\n\r\n  return (\r\n    <li className={`${styles.filling} mb-2`} style={{opacity}} ref={ref} index={index} data-handler-id={handlerId}>\r\n      <DragIcon type=\"primary\" />\r\n      <ConstructorElement\r\n        text={item.name}\r\n        price={item.price}\r\n        thumbnail={item.image_mobile}\r\n        handleClose={() => handleDelete(item.uuid, item._id)}\r\n      />\r\n    </li>\r\n  )\r\n}\r\n\r\nFilingConstructor.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  index: PropTypes.number.isRequired,\r\n  moveCard: PropTypes.func.isRequired,\r\n  item: card\r\n}\r\n\r\nexport default FilingConstructor;","import React, { useEffect, useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {useHistory} from 'react-router-dom'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport update from 'immutability-helper';\r\nimport { useDrop } from \"react-dnd\";\r\nimport { ConstructorElement, CurrencyIcon, Button} from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport { uuid } from '../../utils/utils';\r\nimport { postOrder } from '../../systems/actions/index';\r\nimport { CLEAR_INGREDIENT_INFO,\r\n  ADD_INGREDIENT_TO_CONSTRUCTOR,\r\n  ADD_INGREDIENT_IN_ORDER,\r\n  DELETE_INGREDIENT_FROM_ORDER,\r\n  INGREDIENT_COUNT_INCREMENT,\r\n  DELETE_BUN_FROM_CONSTRUCTOR,\r\n  INGREDIENT_COUNT_CLEAR,\r\n  POST_ORDER_ERROR,\r\n  SORT_INGREDIENTS_IN_CONSTRUCTOR,\r\n  CALCULATE_COAST } from '../../systems/actions/index';\r\nimport FilingConstructor from '../FilingConstructor/FilingConstructor'\r\nimport styles from './BurgerConstructor.module.css';\r\n\r\nconst BurgerConstructor = ({ onClick }) => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const { ingredients, ingredientsConstructor, error, coast, user } = useSelector(store => ({\r\n    ingredients: store.ingredients.ingredients,\r\n    ingredientsConstructor: store.burgerConstructor.items,\r\n    error: store.order.orderError,\r\n    coast: store.order.coast,\r\n    user: store.user.userData\r\n  }));\r\n\r\n  const [{isHover}, refTarget] = useDrop({\r\n    accept: 'items',\r\n    drop(card) {\r\n      const item = createId(ingredients.find(item => item._id === card._id));\r\n      if (item.type === 'bun' && ingredientsConstructor.some(item => item.type === 'bun')) {\r\n        dispatch({\r\n          type: DELETE_BUN_FROM_CONSTRUCTOR\r\n        })\r\n        dispatch({type: INGREDIENT_COUNT_CLEAR})\r\n        dispatch({type: DELETE_INGREDIENT_FROM_ORDER, id: item._id})\r\n      }\r\n      dispatch({\r\n        type: ADD_INGREDIENT_TO_CONSTRUCTOR,\r\n        item: item\r\n      })\r\n      dispatch({type: ADD_INGREDIENT_IN_ORDER, id: item._id})\r\n      dispatch({type: INGREDIENT_COUNT_INCREMENT, id: item._id, counter: item.type === 'bun' ? 2 : 1})\r\n    },\r\n    collect: monitor => ({\r\n        isHover: monitor.isOver(),\r\n    })\r\n  });\r\n\r\n  const border = isHover ? '2px solid lightgreen' : '2px solid transparent';\r\n\r\n  function createId(item) {\r\n      return  {...item, uuid: uuid()}\r\n  }\r\n\r\n  const handleClickSendOrder = () => {\r\n    dispatch({\r\n      type: CLEAR_INGREDIENT_INFO\r\n    });\r\n    const data = [];\r\n    ingredientsConstructor.forEach((item) => {data.push(item._id)});\r\n    if (data.length > 0) {\r\n      onClick();\r\n      dispatch(postOrder(data));\r\n    } else {\r\n      dispatch({type: POST_ORDER_ERROR})\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    dispatch({type: CALCULATE_COAST, items: ingredientsConstructor})\r\n  }, [ingredientsConstructor, dispatch])\r\n\r\n  const moveCard = useCallback((dragIndex, hoverIndex) => {\r\n    const dragCard = ingredientsConstructor[dragIndex];\r\n    const newData = update(ingredientsConstructor, {\r\n        $splice: [\r\n            [dragIndex, 1],\r\n            [hoverIndex, 0, dragCard],\r\n        ],\r\n    });\r\n    dispatch({ type: SORT_INGREDIENTS_IN_CONSTRUCTOR, data: newData})\r\n  }, [ingredientsConstructor, dispatch]);\r\n\r\n    return (\r\n    <section className=\"mt-3 mb-13\">\r\n      <ul className={`${styles.ingredients} mb-10 pr-4 pl-4`} ref={refTarget} style={{border}}>\r\n        <li className={`${styles.ingredient} ml-6 mb-2`}>\r\n        {ingredientsConstructor.filter(item => item.type === 'bun').length > 0 && ingredientsConstructor.filter(item => item.type === 'bun').map((item) => (\r\n            <ConstructorElement\r\n              key={item.uuid}\r\n              type=\"top\"\r\n              isLocked={true}\r\n              text={`${item.name} (верх)`}\r\n              price={item.price}\r\n              thumbnail={item.image_mobile}\r\n            />\r\n          ))}\r\n        </li>\r\n        <li className={`${styles.ingredient} mb-2`}>\r\n          <ul className={`${styles.fillings}`}>\r\n            {ingredientsConstructor.filter(item => item.type === 'sauce' || item.type === 'main').length > 0 && ingredientsConstructor.filter(item => item.type === 'sauce' || item.type === 'main').map((item, index)=> (\r\n              <FilingConstructor key={item.uuid} moveCard={moveCard} id={item.uuid} item={item} index={index+1} />\r\n            ))\r\n            }\r\n          </ul>\r\n        </li>\r\n        <li className={`${styles.ingredient} ml-6`}>\r\n        {ingredientsConstructor.filter(item => item.type === 'bun').length > 0 && ingredientsConstructor.filter(item => item.type === 'bun').map((item) => (\r\n            <ConstructorElement\r\n              key={item.uuid}\r\n              type=\"bottom\"\r\n              isLocked={true}\r\n              text={`${item.name} (низ)`}\r\n              price={item.price}\r\n              thumbnail={item.image_mobile}\r\n            />\r\n          ))}\r\n        </li>\r\n      </ul>\r\n      {error && <p className={`${styles.constructor__error} text text_type_main-medium`}>Чтобы сделать заказ, соберите свой бургер!</p>}\r\n        <div className={`${styles.constructor__wrapper} mb-13`}>\r\n          <div className={`${styles.constructor__wrapper} mr-10`}>\r\n            <p className=\"text text_type_digits-medium\">{coast}</p>\r\n            <CurrencyIcon type=\"primary\" />\r\n          </div>\r\n          {user\r\n          ?\r\n            <Button type=\"primary\" size=\"large\" onClick={handleClickSendOrder}>\r\n              Оформить заказ\r\n            </Button>\r\n          :\r\n            <Button type=\"primary\" size=\"large\" onClick={() => history.push('/login')}>\r\n              Войти\r\n            </Button>\r\n          }\r\n        </div> \r\n    </section>\r\n  )\r\n}\r\n\r\nBurgerConstructor.propTypes = {\r\n  onClick: PropTypes.func.isRequired\r\n}\r\n\r\nexport default BurgerConstructor;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport BurgerIngredients from '../../components/BurgerIngredients/BurgerIngredients';\r\nimport BurgerConstructor from '../../components/BurgerConstructor/BurgerConstructor';\r\nimport styles from './MainPage.module.css'\r\n\r\nconst MainPage = ({handleClickOnButton, handleClickOnCard}) => {\r\n\r\n\r\n    return(\r\n        <>\r\n            <h1 className=\"text text_type_main-large mt-10 mb-5\">Соберите бургер</h1>\r\n            <div className={`${styles.main__container}`}>\r\n                <BurgerIngredients onClick={handleClickOnCard} />      \r\n                <BurgerConstructor onClick={handleClickOnButton} />\r\n            </div>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nMainPage.propTypes = {\r\n    handleClickOnButton: PropTypes.func.isRequired,\r\n    handleClickOnCard: PropTypes.func.isRequired\r\n}\r\n\r\nexport default MainPage;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button} from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport styles from './Form.module.css'\r\n\r\n\r\nconst Form = ({title, children, textButton, onSubmit}) => {\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <h2 className=\"text text_type_main-medium mb-6\">{title}</h2>\r\n            <form className={`${styles.form} mb-20`} onSubmit={onSubmit}>\r\n                <ul className={`${styles.inputs}`}>\r\n                    {children}\r\n                </ul>\r\n                <Button type=\"primary\" size=\"large\">{textButton}</Button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nForm.propTypes = {\r\n    title: PropTypes.string.isRequired,\r\n    textButton: PropTypes.string.isRequired,\r\n    onSubmit: PropTypes.func.isRequired,\r\n    children: PropTypes.node.isRequired\r\n}\r\n\r\nexport default Form;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Link} from 'react-router-dom';\r\nimport styles from './ParagraphForm.module.css'\r\n\r\nconst ParagraphForm = ({text, path, textLink}) => {\r\n    return <p className=\"text text_type_main-default text_color_inactive\">{text} <Link className={styles.link} to={path}>{textLink}</Link></p>\r\n}\r\n\r\nParagraphForm.propTypes = {\r\n    text: PropTypes.string.isRequired,\r\n    path: PropTypes.string.isRequired,\r\n    textLink: PropTypes.string.isRequired\r\n}\r\n\r\nexport default ParagraphForm;","import React, {useEffect} from 'react';\r\nimport {useSelector, useDispatch} from 'react-redux';\r\nimport {useHistory} from 'react-router-dom'\r\nimport { PasswordInput, Input} from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport Form from '../../components/Form/Form';\r\nimport ParagraphForm from '../../components/ParagraphForm/ParagraphForm';\r\nimport {registration} from '../../systems/actions'\r\nimport styles from './Register.module.css'\r\n\r\nimport {useFormWithValidation} from '../../hooks/useForm';\r\n\r\nconst Register = () => {\r\n    const {user} = useSelector(store =>({\r\n        user: store.user.userData\r\n    }));\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        if (user) {\r\n            history.push('/')\r\n        }\r\n    }, [history, user])\r\n\r\n    \r\n    const {values, handleChange} = useFormWithValidation();\r\n    function submitRegisterForm(e) {\r\n        e.preventDefault();\r\n        dispatch(registration(values));\r\n        \r\n    }\r\n    return (\r\n        <div className={styles.container}>\r\n            <Form title=\"Регистрация\" textButton=\"Зарегистрироваться\" onSubmit={submitRegisterForm}>\r\n                <li className=\"mb-6\">\r\n                    <Input onChange={handleChange}  value={values.name} name={'name'} placeholder={'Имя'}/>\r\n                </li>\r\n                <li className=\"mb-6\">\r\n                    <Input onChange={handleChange} placeholder=\"E-mail\" type=\"email\"  value={values.email} name={'email'} />\r\n                </li>\r\n                <li className=\"mb-6\">\r\n                    <PasswordInput onChange={handleChange}  value={values.password} name={'password'} />\r\n                </li>\r\n            </Form>\r\n            <ParagraphForm text=\"Уже зарегистрированы?\" path=\"/login\" textLink=\"Войти\" />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register;","import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\nimport { Input, PasswordInput} from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport Form from '../../components/Form/Form';\r\nimport ParagraphForm from '../../components/ParagraphForm/ParagraphForm';\r\nimport {login} from '../../systems/actions'\r\nimport styles from './Login.module.css'\r\n\r\nimport {useFormWithValidation} from '../../hooks/useForm';\r\n\r\nconst Login = () => {\r\n    const { user, error } = useSelector(store => ({\r\n        user: store.user.userData,\r\n        error: store.user.error_401\r\n    }))\r\n    const location = useLocation();\r\n\r\n    const {values, handleChange, errors} = useFormWithValidation();\r\n    const dispatch = useDispatch();\r\n    function submitRegisterForm(e) {\r\n        e.preventDefault();\r\n        dispatch(login(values));\r\n    }\r\n\r\n    if (user !== null && user !== {}) {\r\n        return (\r\n            <Redirect to={location.state?.from.pathname || '/'} />\r\n        )\r\n    }\r\n    return (\r\n        <div className={styles.container}>\r\n            <Form title=\"Вход\" textButton=\"Войти\" onSubmit={submitRegisterForm}>\r\n                <li className={`${styles.input} mb-6`}>\r\n                    <Input onChange={handleChange} placeholder=\"E-mail\" type=\"email\" required value={values.email || ''} name={'email'} />\r\n                    <span className={`${styles.error} text text_type_main-small`}>{errors.email}</span>\r\n                </li>\r\n                <li className={`${styles.input} mb-6`}>\r\n                    <PasswordInput onChange={handleChange} required value={values.password || ''} name={'password'} />\r\n                    <span className={`${styles.error} text text_type_main-small`}>{errors.password}</span>\r\n                </li>\r\n            </Form>\r\n            {error && <p className=\"text text_type_main-medium\">Неверный логин или пароль</p>}\r\n            <ParagraphForm text=\"Вы — новый пользователь?\" path=\"/register\" textLink=\"Зарегистрироваться\" />\r\n            <ParagraphForm text=\"Забыли пароль?\" path=\"/forgot-password\" textLink=\"Восстановить пароль\" />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport {Input} from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport {useHistory} from 'react-router-dom';\r\nimport {useDispatch} from 'react-redux';\r\nimport Form from '../../components/Form/Form';\r\nimport ParagraphForm from '../../components/ParagraphForm/ParagraphForm';\r\nimport {REQUEST_PASSWORD_RESET} from '../../systems/actions'\r\nimport api from '../../utils/api';\r\nimport {useFormWithValidation} from '../../hooks/useForm';\r\nimport styles from './ForgotPassword.module.css'\r\n\r\nconst ForgotPassword = () => {\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const {values, handleChange, isValid} = useFormWithValidation();\r\n\r\n    function submitForm(e) {\r\n        e.preventDefault();\r\n        if (isValid) {\r\n            api.forgot(values.email).then(() => {\r\n                console.log('На вашу почту отправлен код подтверждения');\r\n                dispatch({type: REQUEST_PASSWORD_RESET});\r\n                history.push('/reset-password')\r\n            })\r\n            .catch((err) => console.log(err));\r\n        }\r\n        \r\n    }\r\n\r\n    return (\r\n        <div className={`${styles.container} mt-25`}>\r\n            <Form title=\"Восстановление пароля\" textButton=\"Восстановить\" onSubmit={submitForm}>\r\n                <li className=\"mb-6\">\r\n                    <Input onChange={handleChange} required value={values.email || ''} name={'email'} placeholder={'Укажите e-mail'}/>\r\n                </li>\r\n            </Form>\r\n            <ParagraphForm text=\"Вспомнили пароль?\" path=\"/login\" textLink=\"Войти\" />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ForgotPassword;","import React from 'react';\r\nimport { Input, PasswordInput } from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport {useHistory} from 'react-router-dom';\r\nimport {useDispatch} from 'react-redux';\r\nimport Form from '../../components/Form/Form';\r\nimport ParagraphForm from '../../components/ParagraphForm/ParagraphForm';\r\nimport api from '../../utils/api';\r\nimport {REQUEST_PASSWORD_RESET} from '../../systems/actions'\r\nimport {useFormWithValidation} from '../../hooks/useForm';\r\nimport styles from './ResetPassword.module.css'\r\n\r\nconst ResetPassword = () => {\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const {values, handleChange, isValid} = useFormWithValidation();\r\n\r\n    function submitForm(e) {\r\n        e.preventDefault();\r\n        if (isValid) {\r\n            api.reset(values).then(() => {\r\n                dispatch({type: REQUEST_PASSWORD_RESET});\r\n                history.push('/login')\r\n            })\r\n            .catch((err) => console.log(err));\r\n        }\r\n        \r\n    }\r\n\r\n    return (\r\n        <div className={`${styles.container} mt-25`}>\r\n            <Form title=\"Восстановление пароля\" textButton=\"Сохранить\" onSubmit={submitForm}>\r\n                <li className=\"mb-6\">\r\n                    <PasswordInput onChange={handleChange} required value={values.password || ''} name={'password'} placeholder={'Введите новый пароль'}/>\r\n                </li>\r\n                <li className=\"mb-6\">\r\n                    <Input onChange={handleChange} required value={values.code || ''} name={'code'} placeholder={'Введите код из письма'}/>\r\n                </li>\r\n            </Form>\r\n            <ParagraphForm text=\"Вспомнили пароль?\" path=\"/login\" textLink=\"Войти\" />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ResetPassword;","import React, {useEffect}  from 'react';\r\nimport {useDispatch,  useSelector } from 'react-redux';\r\nimport {getIngredients} from '../../systems/actions'\r\n\r\nimport {useParams} from 'react-router-dom';\r\nimport Preloader from '../../components/Preloader/Preloader';\r\n\r\n\r\n\r\nimport styles from './IngredientView.module.css'\r\n\r\nconst IngredientView = () => {\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(getIngredients());\r\n    }, [dispatch])\r\n\r\n    const {id} = useParams();\r\n\r\n\r\n    const {ingredients, ingredientsRequest} = useSelector(store => ({\r\n        ingredients: store.ingredients.ingredients,\r\n        ingredientsRequest: store.ingredients.ingredientsRequest,\r\n    }))\r\n    const card = ingredients.find(item => item._id === id)\r\n    if (ingredients.length > 0) {\r\n        return (\r\n            <>\r\n            { ingredientsRequest ? <Preloader /> :\r\n                <div className={`${styles.content} pt-10 pl-10 pb-15`}>\r\n                <h2 className={`${styles.title} text text_type_main-large`}>Детали ингредиента</h2>\r\n                <img className={`${styles.container__image} mb-4`} src={card.image_large} alt={`Изображение ${card.name}`} />\r\n                <p className=\"text text_type_main-medium mb-8\">{card.name}</p>\r\n                <ul className={`${styles.container__attributes} mb-15`}>\r\n                    <li className={`${styles.container__attribute}`}>\r\n                    <p className=\"text text_type_main-default text_color_inactive\">Калории, ккал</p>\r\n                    <p className={`${styles.value} text text_type_digits-default text_color_inactive`}>{card.calories}</p>\r\n                    </li>\r\n                    <li className={`${styles.container__attribute} ml-5`}>\r\n                    <p className=\"text text_type_main-default text_color_inactive\">Белки, г</p>\r\n                    <p className={`${styles.value} text text_type_digits-default text_color_inactive`}>{card.proteins}</p>\r\n                    </li>\r\n                    <li className={`${styles.container__attribute} ml-5`}>\r\n                    <p className=\"text text_type_main-default text_color_inactive\">Жири, г</p>\r\n                    <p className={`${styles.value} text text_type_digits-default text_color_inactive`}>{card.fat}</p>\r\n                    </li>\r\n                    <li className={`${styles.container__attribute} ml-5`}>\r\n                    <p className=\"text text_type_main-default text_color_inactive\">Углеводы, г</p>\r\n                    <p className={`${styles.value} text text_type_digits-default text_color_inactive`}>{card.carbohydrates}</p>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            }\r\n            </>\r\n        )\r\n    }\r\n    return <></>\r\n    \r\n}\r\n\r\nexport default IngredientView;","import React from 'react'\r\nimport {useHistory} from 'react-router-dom'\r\nimport { Button} from '@ya.praktikum/react-developer-burger-ui-components';\r\nimport styles from './PageNotFound.module.css'\r\n\r\nconst PageNotFound = () => {\r\n    const history = useHistory();\r\n\r\n    function handleClick() {\r\n        history.goBack();\r\n    }\r\n    return (\r\n        <div className={`${styles.container} mt-25`}>\r\n            <div className={styles.content}>\r\n                <p className=\"text text_type_digits-large mb-10\">404</p>\r\n                <p className=\"text text_type_main-medium mb-5\">Страница еще в разработке</p>\r\n                <Button type=\"primary\" size=\"large\" onClick={handleClick}>Вернуться обратно</Button>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default PageNotFound;","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport NavBar from '../../components/NavBar/NavBar'\r\nimport FormEditProfile from '../../components/FormEditProfile/FormEditProfile';\r\nimport { PageNotFound } from '../index'\r\nimport styles from './Profile.module.css';\r\n\r\nconst ProfilePage = () => {\r\n    return (\r\n        <div className={`${styles.container} mt-30`}>\r\n            <NavBar />\r\n            <Switch>\r\n                <Route exact path='/profile'>\r\n                    <FormEditProfile />\r\n                </Route>\r\n                <Route exact path='/profile/orders'>\r\n                    <PageNotFound />\r\n                </Route>\r\n            </Switch>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfilePage;","export default __webpack_public_path__ + \"static/media/done.e036971b.png\";","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useSelector } from 'react-redux';\r\nimport styles from './OrderDetails.module.css';\r\nimport { getStringOrder } from '../../utils/utils';\r\nimport check  from '../../images/done.png';\r\nimport Modal from '../Modal/Modal';\r\n\r\n\r\nconst OrderDetails = ({isOpened, onClose, modalOrder}) => {\r\n  const { number } = useSelector(store => ({\r\n    number: store.order.orderNumber,\r\n  }))\r\n  \r\n  \r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    \r\n  }\r\n    return (\r\n    <Modal isOpened={isOpened} onClose={handleClose} modalOrder={modalOrder}>\r\n      <div className={`${styles.container__content} pb-30 pt-20`}>\r\n        <p className={`${styles['order-number']} text text_type_digits-large mb-8`}>{getStringOrder(number)}</p>\r\n        <p className=\"text text_type_main-medium mb-15\">идентификатор заказа</p>\r\n        <img className={`${styles.container__icon} mb-15`} src={check} alt=\"Иконка\" />\r\n        <p className=\"text text_type_main-small \">Ваш заказ начали готовить</p>\r\n        <p className=\"text text_type_main-small text_color_inactive mt-2 \">Дождитесь готовности на орбитальной станции</p>\r\n      </div>\r\n    </Modal>\r\n    \r\n  )\r\n}\r\n\r\nOrderDetails.propTypes = {\r\n  isOpened: PropTypes.bool.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n  modalOrder: PropTypes.bool.isRequired\r\n}\r\n\r\nexport default OrderDetails;\r\n","import React, { useState } from 'react';\r\nimport { Switch, Route, useLocation, useHistory } from 'react-router-dom';\r\nimport { useDispatch} from 'react-redux';\r\nimport { CLEAR_ORDER, CLEAR_CONSTRUCTOR } from '../../systems/actions/index';\r\nimport IngredientDetails from '../../components/IngredientDetails/IngredientDetails';\r\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\r\nimport ProfilePage from '../../pages/Profile/Profile'\r\nimport OrderDetails from '../../components/OrderDetails/OrderDetails';\r\nimport {MainPage, Register, Login, IngredientView, ForgotPassword, ResetPassword, PageNotFound} from '../../pages';\r\n\r\nconst ModalSwitch = () => {\r\n    const dispatch = useDispatch();\r\n    const location = useLocation();\r\n    const history = useHistory();\r\n    let background = (history.action === 'PUSH' || history.action === 'REPLACE') && location.state && location.state.background;;\r\n\r\n    const [modalOrder, setModalOrder] = useState(false);\r\n\r\n    const [modalIngredientsDetailsIsOpened, setModalIngredientsDetailsIsOpened] = React.useState(false);\r\n    const [modalOrderDetailsIsOpened, setModalOrderDetailsIsOpened] = React.useState(false);\r\n\r\n    const handleClickOnCard = () => {\r\n        setModalIngredientsDetailsIsOpened(true);\r\n    }\r\n\r\n    const handleCloseModal = () => {\r\n        setModalOrderDetailsIsOpened(false);\r\n        setModalIngredientsDetailsIsOpened(false);\r\n        if (modalOrder) {\r\n            dispatch({type: CLEAR_ORDER});\r\n            dispatch({type: CLEAR_CONSTRUCTOR});\r\n            setModalOrder(false);\r\n        }\r\n        if (!modalOrder) {\r\n            history.goBack();\r\n\r\n        }\r\n    }\r\n\r\n    const handleClickOnButton = () => {\r\n        setModalOrder(true);\r\n        setModalOrderDetailsIsOpened(true);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Switch location={background || location}>\r\n                <Route exact path=\"/\">\r\n                    <MainPage handleClickOnCard={handleClickOnCard} handleClickOnButton={handleClickOnButton} />\r\n                </Route>\r\n                <Route path={`/ingredients/:id`}>\r\n                    <IngredientView />\r\n                </Route>\r\n\r\n                <ProtectedRoute component={Login} path=\"/login\" />\r\n                <ProtectedRoute path=\"/profile\" component={ProfilePage} />\r\n                <ProtectedRoute path=\"/forgot-password\" component={ForgotPassword} />\r\n                <ProtectedRoute path=\"/reset-password\" component={ResetPassword} />\r\n                <ProtectedRoute component={Register} path=\"/register\" />\r\n                <Route>\r\n                    <PageNotFound />\r\n                </Route>\r\n            </Switch>\r\n\r\n            {background && <Route path='/ingredients/:id'><IngredientDetails\r\n            modalOrder={modalOrder}\r\n            isOpened={modalIngredientsDetailsIsOpened}\r\n            onClose={handleCloseModal}\r\n            /></Route>}\r\n\r\n            <OrderDetails\r\n                modalOrder={modalOrder}\r\n                isOpened={modalOrderDetailsIsOpened}\r\n                onClose={handleCloseModal}\r\n            />\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default ModalSwitch;","import React, { useEffect } from 'react';\nimport { DndProvider } from \"react-dnd\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport AppHeader from '../AppHeader/AppHeader';\nimport {getUserInfo, getIngredients} from '../../systems/actions'\nimport ModalSwitch from '../ModalSwitch/ModalSwitch'\nimport styles from './App.module.css';\n\nfunction App() {\n  const {user} = useSelector(store => ({\n    user: store.user.userData\n  }))\n  \n  const dispatch = useDispatch();\n\n\n\nuseEffect(() => {\n  if (localStorage.getItem('token') && user === null) {\n    dispatch(getUserInfo())\n  }\n}, [dispatch, user])\n\nuseEffect(() => {\n  dispatch(getIngredients());\n}, [dispatch])\n\n\n\n  return (\n      <div className={`${styles.app}`}>\n        <AppHeader />\n        <DndProvider backend={HTML5Backend}>\n          <main className={`${styles.main} pb-13`}>\n          <ModalSwitch />\n          </main>\n        </DndProvider>\n\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport thunk from 'redux-thunk';\nimport { HashRouter as Router } from 'react-router-dom';\n\nimport { compose, createStore, applyMiddleware } from 'redux';\nimport { rootReducer } from './systems/reducers/index';\nimport { Provider } from 'react-redux';\n\nimport './index.css';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\n\nconst composeEnhancers =\n  typeof window === 'object' && (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    ? (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({})\n    : compose;\n\nconst enhancer = composeEnhancers(applyMiddleware(thunk));\nconst store = createStore(rootReducer, enhancer);\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <Router basename=\"/react-burger\">\n        <App />\n      </Router>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"NavBar_container__2YGux\",\"item\":\"NavBar_item__2S2Z-\",\"link\":\"NavBar_link__2efGK\",\"button\":\"NavBar_button__2lTGZ\",\"active\":\"NavBar_active__2KjSD\",\"text\":\"NavBar_text__2vW3K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputs\":\"FormEditProfile_inputs__2AaA9\",\"form\":\"FormEditProfile_form__1Drvp\",\"buttons\":\"FormEditProfile_buttons__3qNr3\",\"button\":\"FormEditProfile_button__2hwE3\",\"reset\":\"FormEditProfile_reset__1EVZA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredients\":\"BurgerConstructor_ingredients__3FISq\",\"fillings\":\"BurgerConstructor_fillings__WRTER\",\"filling\":\"BurgerConstructor_filling__2Ig8o\",\"constructor__wrapper\":\"BurgerConstructor_constructor__wrapper__3n8ue\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppHeader_header__R1Ju4\",\"container\":\"AppHeader_container__2k0vk\",\"menu\":\"AppHeader_menu__2y1mZ\",\"menu__link\":\"AppHeader_menu__link__1dLOY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredients\":\"BurgerIngredients_ingredients__1RZMV\",\"ingredients__groups\":\"BurgerIngredients_ingredients__groups__3tdwH\",\"constructor__error\":\"BurgerIngredients_constructor__error__1QUk1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredients__list\":\"IngredientsList_ingredients__list__1rBjh\",\"link\":\"IngredientsList_link__cIBZg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Login_container__1J62U\",\"input\":\"Login_input__1I17R\",\"error\":\"Login_error__2f3Zh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"IngredientCard_card__2cvlv\",\"card__price-wrapper\":\"IngredientCard_card__price-wrapper__3GZwx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Form_container__oLrIp\",\"form\":\"Form_form__2jaCX\",\"inputs\":\"Form_inputs__3RFok\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container__content\":\"OrderDetails_container__content__3rkV3\",\"order-number\":\"OrderDetails_order-number__zYBVK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal-body\":\"Modal_modal-body__3PBCe\",\"close\":\"Modal_close__2aAfS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"ModalOverlay_modal__8zj0c\",\"modal_show\":\"ModalOverlay_modal_show__3mLdl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__1ihBl\",\"preloader__circle\":\"Preloader_preloader__circle__WFhxI\",\"spin\":\"Preloader_spin__J40JB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"PageNotFound_container__j823f\",\"content\":\"PageNotFound_content__2xvcP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"App_main__1h6xZ\",\"main__container\":\"App_main__container__2Egxi\"};"],"sourceRoot":""}